{"ast":null,"code":"import _slicedToArray from\"C:/Users/qnguyen77/Desktop/reactjs/study-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{useSelector,useDispatch}from\"react-redux\";import orderDetailApi from\"../../api/orderDetail\";import OrderDetail from\"../../component/OrderDetail/OrderDetail\";import{calculateTotal}from\"../../util/util\";import{resetCartList}from\"../../actions/cart\";import\"./CompletedOrder.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";function CompletedOrder(){var id=useSelector(function(cart){return cart.cart.id;});var dispatch=useDispatch();var _useState=useState({idOrder:\"\",orderDate:\"\",payMethod:\"\",listProduct:[],intoMoney:0,deliveryFee:0}),_useState2=_slicedToArray(_useState,2),finalInfoMap=_useState2[0],setFinalInfoMap=_useState2[1];useEffect(function(){orderDetailApi.getorderDetailById(id).then(function(result){var date=new Date();var today=\"\".concat(date.getDate(),\"/\").concat(date.getMonth(),\"/\").concat(date.getFullYear());if(result.hasOwnProperty(\"id\")){var dataMapping={idOrder:result.id,orderDate:today,payMethod:result.paymentMethod.title,listProduct:result.cartList,intoMoney:calculateTotal(result.cartList),deliveryFee:result.deliveryMethod.fee};setFinalInfoMap(dataMapping);dispatch(resetCartList([]));}});},[id]);return/*#__PURE__*/_jsx(\"div\",{className:\"ContainerCompletedOrder\",children:/*#__PURE__*/_jsx(OrderDetail,{orderDetail:finalInfoMap})});}export default CompletedOrder;","map":{"version":3,"sources":["C:/Users/qnguyen77/Desktop/reactjs/study-react/src/component/CompletedOrder/CompletedOrder.jsx"],"names":["React","useEffect","useState","useSelector","useDispatch","orderDetailApi","OrderDetail","calculateTotal","resetCartList","CompletedOrder","id","cart","dispatch","idOrder","orderDate","payMethod","listProduct","intoMoney","deliveryFee","finalInfoMap","setFinalInfoMap","getorderDetailById","then","result","date","Date","today","getDate","getMonth","getFullYear","hasOwnProperty","dataMapping","paymentMethod","title","cartList","deliveryMethod","fee"],"mappings":"qKAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,MAAOC,CAAAA,cAAP,KAA2B,uBAA3B,CACA,MAAOC,CAAAA,WAAP,KAAwB,yCAAxB,CACA,OAASC,cAAT,KAA+B,iBAA/B,CACA,OACEC,aADF,KAEO,oBAFP,CAGA,MAAO,uBAAP,C,2CAEA,QAASC,CAAAA,cAAT,EAA0B,CACxB,GAAMC,CAAAA,EAAE,CAAGP,WAAW,CAAC,SAACQ,IAAD,QAAUA,CAAAA,IAAI,CAACA,IAAL,CAAUD,EAApB,EAAD,CAAtB,CACA,GAAME,CAAAA,QAAQ,CAAGR,WAAW,EAA5B,CACA,cAAwCF,QAAQ,CAAC,CAC/CW,OAAO,CAAE,EADsC,CAE/CC,SAAS,CAAE,EAFoC,CAG/CC,SAAS,CAAE,EAHoC,CAI/CC,WAAW,CAAE,EAJkC,CAK/CC,SAAS,CAAE,CALoC,CAM/CC,WAAW,CAAE,CANkC,CAAD,CAAhD,wCAAOC,YAAP,eAAqBC,eAArB,eAQAnB,SAAS,CAAC,UAAM,CACdI,cAAc,CAACgB,kBAAf,CAAkCX,EAAlC,EAAsCY,IAAtC,CAA2C,SAACC,MAAD,CAAY,CACrD,GAAMC,CAAAA,IAAI,CAAG,GAAIC,CAAAA,IAAJ,EAAb,CACA,GAAMC,CAAAA,KAAK,WAAMF,IAAI,CAACG,OAAL,EAAN,aAAwBH,IAAI,CAACI,QAAL,EAAxB,aAA2CJ,IAAI,CAACK,WAAL,EAA3C,CAAX,CACA,GAAIN,MAAM,CAACO,cAAP,CAAsB,IAAtB,CAAJ,CAAiC,CAC/B,GAAMC,CAAAA,WAAW,CAAG,CAClBlB,OAAO,CAAEU,MAAM,CAACb,EADE,CAElBI,SAAS,CAAEY,KAFO,CAGlBX,SAAS,CAAEQ,MAAM,CAACS,aAAP,CAAqBC,KAHd,CAIlBjB,WAAW,CAAEO,MAAM,CAACW,QAJF,CAKlBjB,SAAS,CAAEV,cAAc,CAACgB,MAAM,CAACW,QAAR,CALP,CAMlBhB,WAAW,CAAEK,MAAM,CAACY,cAAP,CAAsBC,GANjB,CAApB,CAQAhB,eAAe,CAACW,WAAD,CAAf,CACAnB,QAAQ,CAACJ,aAAa,CAAC,EAAD,CAAd,CAAR,CACD,CACF,CAfD,EAgBD,CAjBQ,CAiBN,CAACE,EAAD,CAjBM,CAAT,CAmBA,mBACE,YAAK,SAAS,CAAC,yBAAf,uBACE,KAAC,WAAD,EAAa,WAAW,CAAES,YAA1B,EADF,EADF,CAKD,CAED,cAAeV,CAAAA,cAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport orderDetailApi from \"../../api/orderDetail\";\r\nimport OrderDetail from \"../../component/OrderDetail/OrderDetail\";\r\nimport { calculateTotal } from \"../../util/util\";\r\nimport {\r\n  resetCartList\r\n} from \"../../actions/cart\";\r\nimport \"./CompletedOrder.scss\";\r\n\r\nfunction CompletedOrder() {\r\n  const id = useSelector((cart) => cart.cart.id);\r\n  const dispatch = useDispatch();\r\n  const [finalInfoMap, setFinalInfoMap] = useState({\r\n    idOrder: \"\",\r\n    orderDate: \"\",\r\n    payMethod: \"\",\r\n    listProduct: [],\r\n    intoMoney: 0,\r\n    deliveryFee: 0,\r\n  });\r\n  useEffect(() => {\r\n    orderDetailApi.getorderDetailById(id).then((result) => {\r\n      const date = new Date();\r\n      const today = `${date.getDate()}/${date.getMonth()}/${date.getFullYear()}`;\r\n      if (result.hasOwnProperty(\"id\")) {\r\n        const dataMapping = {\r\n          idOrder: result.id,\r\n          orderDate: today,\r\n          payMethod: result.paymentMethod.title,\r\n          listProduct: result.cartList,\r\n          intoMoney: calculateTotal(result.cartList),\r\n          deliveryFee: result.deliveryMethod.fee,\r\n        };\r\n        setFinalInfoMap(dataMapping);\r\n        dispatch(resetCartList([]));\r\n      }\r\n    });\r\n  }, [id]);\r\n\r\n  return (\r\n    <div className=\"ContainerCompletedOrder\">\r\n      <OrderDetail orderDetail={finalInfoMap} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CompletedOrder;\r\n"]},"metadata":{},"sourceType":"module"}