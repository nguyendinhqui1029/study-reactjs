{"ast":null,"code":"import _objectSpread from\"C:/Users/qnguyen77/Desktop/reactjs/study-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/qnguyen77/Desktop/reactjs/study-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faAngleDoubleLeft,faAngleDoubleRight}from\"@fortawesome/free-solid-svg-icons\";import\"./Pagination.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";Pagination.defaultProps={currentPage:1,itemPage:0,totalItem:0,limit:5,pageChangeClick:null};function getTotalPage(totalPage,limitPage){return limitPage>=totalPage?totalPage:limitPage;}function Pagination(props){var FIRST_PAGE=1;var currentPage=props.currentPage,itemPage=props.itemPage,totalItem=props.totalItem,limit=props.limit,pageChangeClick=props.pageChangeClick;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),totalPage=_useState2[0],setTotalPage=_useState2[1];var _useState3=useState(FIRST_PAGE),_useState4=_slicedToArray(_useState3,2),startPage=_useState4[0],setStartPage=_useState4[1];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),endPage=_useState6[0],setEndPage=_useState6[1];var _useState7=useState(1),_useState8=_slicedToArray(_useState7,2),current=_useState8[0],setCurrent=_useState8[1];useEffect(function(){var totalPages=Math.ceil(totalItem/itemPage);setCurrent(currentPage);setTotalPage(totalPages);setEndPage(getTotalPage(totalPages,limit));setStartPage(FIRST_PAGE);},[currentPage,totalItem,itemPage,limit]);function updateStartEndPage(indexPage,limit){switch(indexPage){case endPage:{var _startPage=indexPage>=totalPage?Math.max(totalPage-limit,FIRST_PAGE):indexPage;var _endPage=indexPage+limit>=totalPage?totalPage:indexPage+limit-FIRST_PAGE;setStartPage(_startPage);setEndPage(_endPage);setCurrent(indexPage);}break;case startPage:{var _startPage2=indexPage<=FIRST_PAGE?FIRST_PAGE:indexPage-limit+FIRST_PAGE;var _endPage2=indexPage<=FIRST_PAGE?limit:indexPage;setStartPage(_startPage2);setEndPage(_endPage2);setCurrent(indexPage);}break;default:setCurrent(indexPage);}}function changePagination(indexPage){if(pageChangeClick){updateStartEndPage(indexPage,limit);pageChangeClick(_objectSpread(_objectSpread({},{currentPage:indexPage}),{},{itemPage:itemPage}));}}function nextClick(){var pageSelected=current+1;updateStartEndPage(pageSelected,limit);pageChangeClick(_objectSpread(_objectSpread({},{currentPage:pageSelected}),{},{itemPage:itemPage}));}function prevClick(){var pageSelected=current-1;updateStartEndPage(pageSelected,limit);pageChangeClick(_objectSpread(_objectSpread({},{currentPage:pageSelected}),{},{itemPage:itemPage}));}var paginationRender=[/*#__PURE__*/_jsx(\"span\",{className:current<=1?\"NextIndex IsDisable\":\"NextIndex\",onClick:function onClick(){return prevClick();},children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faAngleDoubleLeft,className:\"IconPagination\"})},\"next\")];var _loop=function _loop(ind){paginationRender.push(/*#__PURE__*/_jsx(\"span\",{className:ind===current?\"PageIndex Active\":\"PageIndex\",onClick:function onClick(){return changePagination(ind);},children:ind},ind));};for(var ind=startPage;ind<=endPage;ind++){_loop(ind);}paginationRender.push(/*#__PURE__*/_jsx(\"span\",{className:current>=totalPage?\"PrevIndex IsDisable\":\"PrevIndex\",onClick:function onClick(){return nextClick();},children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faAngleDoubleRight,className:\"IconPagination\"})},\"prev\"));return/*#__PURE__*/_jsx(\"div\",{className:\"Pagination\",children:paginationRender});}export default Pagination;","map":{"version":3,"sources":["C:/Users/qnguyen77/Desktop/reactjs/study-react/src/component/Pagination/Pagination.jsx"],"names":["React","useState","useEffect","FontAwesomeIcon","faAngleDoubleLeft","faAngleDoubleRight","Pagination","defaultProps","currentPage","itemPage","totalItem","limit","pageChangeClick","getTotalPage","totalPage","limitPage","props","FIRST_PAGE","setTotalPage","startPage","setStartPage","endPage","setEndPage","current","setCurrent","totalPages","Math","ceil","updateStartEndPage","indexPage","max","changePagination","nextClick","pageSelected","prevClick","paginationRender","ind","push"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faAngleDoubleLeft,\r\n  faAngleDoubleRight,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport \"./Pagination.scss\";\r\nPagination.propTypes = {\r\n  currentPage: PropTypes.number,\r\n  itemPage: PropTypes.number,\r\n  totalItem: PropTypes.number,\r\n  limit: PropTypes.number,\r\n  pageChangeClick: PropTypes.func,\r\n};\r\nPagination.defaultProps = {\r\n  currentPage: 1,\r\n  itemPage: 0,\r\n  totalItem: 0,\r\n  limit: 5,\r\n  pageChangeClick: null,\r\n};\r\n\r\nfunction getTotalPage(totalPage, limitPage) {\r\n  return limitPage >= totalPage ? totalPage : limitPage;\r\n}\r\nfunction Pagination(props) {\r\n  const FIRST_PAGE = 1;\r\n  const { currentPage, itemPage, totalItem, limit, pageChangeClick } = props;\r\n  const [totalPage, setTotalPage] = useState(0);\r\n  const [startPage, setStartPage] = useState(FIRST_PAGE);\r\n  const [endPage, setEndPage] = useState(1);\r\n  const [current, setCurrent] = useState(1);\r\n  \r\n  useEffect(() => {\r\n    const totalPages = Math.ceil(totalItem / itemPage);\r\n    setCurrent(currentPage);\r\n    setTotalPage(totalPages);\r\n    setEndPage(getTotalPage(totalPages, limit));\r\n    setStartPage(FIRST_PAGE);\r\n  }, [currentPage, totalItem, itemPage, limit]);\r\n\r\n  function updateStartEndPage(indexPage, limit) {\r\n    switch (indexPage) {\r\n      case endPage:\r\n        {\r\n          const startPage =\r\n            indexPage >= totalPage\r\n              ? Math.max(totalPage - limit, FIRST_PAGE)\r\n              : indexPage;\r\n          const endPage =\r\n            indexPage + limit >= totalPage\r\n              ? totalPage\r\n              : indexPage + limit - FIRST_PAGE;\r\n          setStartPage(startPage);\r\n          setEndPage(endPage);\r\n          setCurrent(indexPage);\r\n        }\r\n        break;\r\n      case startPage:\r\n        {\r\n          const startPage =\r\n            indexPage <= FIRST_PAGE\r\n              ? FIRST_PAGE\r\n              : indexPage - limit + FIRST_PAGE;\r\n          const endPage = indexPage <= FIRST_PAGE ? limit : indexPage;\r\n          setStartPage(startPage);\r\n          setEndPage(endPage);\r\n          setCurrent(indexPage);\r\n        }\r\n        break;\r\n      default:\r\n        setCurrent(indexPage);\r\n    }\r\n  }\r\n\r\n  function changePagination(indexPage) {\r\n    if (pageChangeClick) {\r\n      updateStartEndPage(indexPage, limit);\r\n      pageChangeClick({ ...{ currentPage: indexPage }, itemPage });\r\n    }\r\n  }\r\n\r\n  function nextClick() {\r\n    const pageSelected = current + 1;\r\n    updateStartEndPage(pageSelected, limit);\r\n    pageChangeClick({\r\n      ...{ currentPage: pageSelected },\r\n      itemPage,\r\n    });\r\n  }\r\n\r\n  function prevClick() {\r\n    const pageSelected = current - 1;\r\n    updateStartEndPage(pageSelected, limit);\r\n    pageChangeClick({\r\n      ...{ currentPage: pageSelected },\r\n      itemPage,\r\n    });\r\n  }\r\n\r\n  const paginationRender = [\r\n    <span\r\n      className={current <= 1 ? \"NextIndex IsDisable\" : \"NextIndex\"}\r\n      onClick={() => prevClick()}\r\n      key={\"next\"}\r\n    >\r\n      <FontAwesomeIcon icon={faAngleDoubleLeft} className=\"IconPagination\" />\r\n    </span>,\r\n  ];\r\n  for (let ind = startPage; ind <= endPage; ind++) {\r\n    paginationRender.push(\r\n      <span\r\n        key={ind}\r\n        className={ind === current ? \"PageIndex Active\" : \"PageIndex\"}\r\n        onClick={() => changePagination(ind)}\r\n      >\r\n        {ind}\r\n      </span>\r\n    );\r\n  }\r\n  paginationRender.push(\r\n    <span\r\n      className={current >= totalPage ? \"PrevIndex IsDisable\" : \"PrevIndex\"}\r\n      onClick={() => nextClick()}\r\n      key={\"prev\"}\r\n    >\r\n      <FontAwesomeIcon icon={faAngleDoubleRight} className=\"IconPagination\" />\r\n    </span>\r\n  );\r\n\r\n  return <div className=\"Pagination\">{paginationRender}</div>;\r\n}\r\n\r\nexport default Pagination;\r\n"]},"metadata":{},"sourceType":"module"}