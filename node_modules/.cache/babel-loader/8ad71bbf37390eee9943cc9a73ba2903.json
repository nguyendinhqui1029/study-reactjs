{"ast":null,"code":"import _toConsumableArray from\"C:/Users/qnguyen77/Desktop/reactjs/study-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"C:/Users/qnguyen77/Desktop/reactjs/study-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import Input from\"../Input/Input\";import SelectedInput from\"./../SelectedInput/SelectedInput\";import{Formik,FastField,Form,Field}from\"formik\";import{Button}from\"@material-ui/core\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import\"./Search.scss\";import{useSelector,useDispatch}from\"react-redux\";import{useHistory}from\"react-router\";import{addQuickLink,removeQuickLink}from\"../../actions/quicklink\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Search(){var initialValues={enter:\"\",fillter:\"ALL\"};var _useState=useState([]),_useState2=_slicedToArray(_useState,2),categoriesDataSource=_useState2[0],setCategoriesDataSource=_useState2[1];var categories=useSelector(function(category){return category.categories.categories;});var disPatch=useDispatch();var history=useHistory();useEffect(function(){var itemDefault={value:\"ALL\",label:\"Tất cả\"};var categoriesMap=categories.map(function(item){return{value:item.id,label:item.name};});setCategoriesDataSource([itemDefault].concat(_toConsumableArray(categoriesMap)));},[categories]);var onclickSearch=function onclickSearch(value){var selectedCategory=categories.find(function(item){return item.id===value.fillter;});disPatch(removeQuickLink(1));disPatch(addQuickLink({path:\"/product\",label:\"Sản phẩm\"}));disPatch(addQuickLink({path:\"/search-result\",label:selectedCategory?selectedCategory.name:\"All\"}));value.enter&&disPatch(addQuickLink({path:\"#\",label:value.enter}));history.push({pathname:\"/search-result\",state:value});};return/*#__PURE__*/_jsx(\"div\",{className:\"Search\",children:/*#__PURE__*/_jsx(Formik,{initialValues:initialValues,onSubmit:function onSubmit(value){return onclickSearch(value);},children:/*#__PURE__*/_jsxs(Form,{className:\"Form\",children:[/*#__PURE__*/_jsx(FastField,{name:\"enter\",component:Input,placeholder:\"T\\xECm ki\\u1EBFm ...\",type:\"text\",isShowValidField:false}),/*#__PURE__*/_jsx(Field,{name:\"fillter\",component:SelectedInput,dataSource:categoriesDataSource,isShowValidField:false}),/*#__PURE__*/_jsx(Button,{type:\"submit\",className:\"ButtonSearch\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:\"search\",className:\"Icon\"})})]})})});}export default Search;","map":{"version":3,"sources":["C:/Users/qnguyen77/Desktop/reactjs/study-react/src/component/Search/Search.jsx"],"names":["React","useState","useEffect","Input","SelectedInput","Formik","FastField","Form","Field","Button","FontAwesomeIcon","useSelector","useDispatch","useHistory","addQuickLink","removeQuickLink","Search","initialValues","enter","fillter","categoriesDataSource","setCategoriesDataSource","categories","category","disPatch","history","itemDefault","value","label","categoriesMap","map","item","id","name","onclickSearch","selectedCategory","find","path","push","pathname","state"],"mappings":"kVAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,gBAAlB,CACA,MAAOC,CAAAA,aAAP,KAA0B,kCAA1B,CACA,OAASC,MAAT,CAAiBC,SAAjB,CAA4BC,IAA5B,CAAkCC,KAAlC,KAA+C,QAA/C,CACA,OAASC,MAAT,KAAuB,mBAAvB,CACA,OAASC,eAAT,KAAgC,gCAAhC,CACA,MAAO,eAAP,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,UAAT,KAA2B,cAA3B,CACA,OAASC,YAAT,CAAuBC,eAAvB,KAA8C,yBAA9C,C,wFAEA,QAASC,CAAAA,MAAT,EAAkB,CAChB,GAAMC,CAAAA,aAAa,CAAG,CACpBC,KAAK,CAAE,EADa,CAEpBC,OAAO,CAAE,KAFW,CAAtB,CAIA,cAAwDlB,QAAQ,CAAC,EAAD,CAAhE,wCAAOmB,oBAAP,eAA6BC,uBAA7B,eACA,GAAMC,CAAAA,UAAU,CAAGX,WAAW,CAAC,SAACY,QAAD,QAAcA,CAAAA,QAAQ,CAACD,UAAT,CAAoBA,UAAlC,EAAD,CAA9B,CACA,GAAME,CAAAA,QAAQ,CAAEZ,WAAW,EAA3B,CACA,GAAMa,CAAAA,OAAO,CAAGZ,UAAU,EAA1B,CAEAX,SAAS,CAAC,UAAM,CACd,GAAMwB,CAAAA,WAAW,CAAG,CAAEC,KAAK,CAAE,KAAT,CAAgBC,KAAK,CAAE,QAAvB,CAApB,CACA,GAAMC,CAAAA,aAAa,CAAGP,UAAU,CAACQ,GAAX,CAAe,SAACC,IAAD,CAAU,CAC7C,MAAO,CAAEJ,KAAK,CAAEI,IAAI,CAACC,EAAd,CAAkBJ,KAAK,CAAEG,IAAI,CAACE,IAA9B,CAAP,CACD,CAFqB,CAAtB,CAGAZ,uBAAuB,EAAEK,WAAF,4BAAkBG,aAAlB,GAAvB,CACD,CANQ,CAMN,CAACP,UAAD,CANM,CAAT,CAQA,GAAMY,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACP,KAAD,CAAS,CAC7B,GAAMQ,CAAAA,gBAAgB,CAAGb,UAAU,CAACc,IAAX,CAAgB,SAACL,IAAD,CAAU,CACjD,MAAOA,CAAAA,IAAI,CAACC,EAAL,GAAYL,KAAK,CAACR,OAAzB,CACD,CAFwB,CAAzB,CAGAK,QAAQ,CAACT,eAAe,CAAC,CAAD,CAAhB,CAAR,CACAS,QAAQ,CAACV,YAAY,CAAC,CAAEuB,IAAI,WAAN,CAAoBT,KAAK,CAAE,UAA3B,CAAD,CAAb,CAAR,CACAJ,QAAQ,CACNV,YAAY,CAAC,CACXuB,IAAI,iBADO,CAEXT,KAAK,CAAEO,gBAAgB,CAAGA,gBAAgB,CAACF,IAApB,CAA0B,KAFtC,CAAD,CADN,CAAR,CAMAN,KAAK,CAACT,KAAN,EAAaM,QAAQ,CAACV,YAAY,CAAC,CAAEuB,IAAI,IAAN,CAAaT,KAAK,CAAED,KAAK,CAACT,KAA1B,CAAD,CAAb,CAArB,CACAO,OAAO,CAACa,IAAR,CAAa,CAAEC,QAAQ,CAAE,gBAAZ,CAA8BC,KAAK,CAAEb,KAArC,CAAb,EACD,CAdD,CAeA,mBACE,YAAK,SAAS,CAAC,QAAf,uBACE,KAAC,MAAD,EAAQ,aAAa,CAAEV,aAAvB,CAAsC,QAAQ,CAAE,kBAACU,KAAD,QAAWO,CAAAA,aAAa,CAACP,KAAD,CAAxB,EAAhD,uBACE,MAAC,IAAD,EAAM,SAAS,CAAC,MAAhB,wBACE,KAAC,SAAD,EACE,IAAI,CAAC,OADP,CAEE,SAAS,CAAExB,KAFb,CAGE,WAAW,CAAC,sBAHd,CAIE,IAAI,CAAC,MAJP,CAKE,gBAAgB,CAAE,KALpB,EADF,cAQE,KAAC,KAAD,EACE,IAAI,CAAC,SADP,CAEE,SAAS,CAAEC,aAFb,CAGE,UAAU,CAAEgB,oBAHd,CAIE,gBAAgB,CAAE,KAJpB,EARF,cAcE,KAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,cAAhC,uBACE,KAAC,eAAD,EAAiB,IAAI,CAAC,QAAtB,CAA+B,SAAS,CAAC,MAAzC,EADF,EAdF,GADF,EADF,EADF,CAwBD,CAED,cAAeJ,CAAAA,MAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Input from \"../Input/Input\";\r\nimport SelectedInput from \"./../SelectedInput/SelectedInput\";\r\nimport { Formik, FastField, Form, Field } from \"formik\";\r\nimport { Button } from \"@material-ui/core\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport \"./Search.scss\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { useHistory } from \"react-router\";\r\nimport { addQuickLink, removeQuickLink } from \"../../actions/quicklink\";\r\n\r\nfunction Search() {\r\n  const initialValues = {\r\n    enter: \"\",\r\n    fillter: \"ALL\",\r\n  };\r\n  const [categoriesDataSource, setCategoriesDataSource] = useState([]);\r\n  const categories = useSelector((category) => category.categories.categories);\r\n  const disPatch =useDispatch();\r\n  const history = useHistory()\r\n  \r\n  useEffect(() => {\r\n    const itemDefault = { value: \"ALL\", label: \"Tất cả\" };\r\n    const categoriesMap = categories.map((item) => {\r\n      return { value: item.id, label: item.name };\r\n    });\r\n    setCategoriesDataSource([itemDefault, ...categoriesMap]);\r\n  }, [categories]);\r\n\r\n  const onclickSearch = (value)=>{\r\n    const selectedCategory = categories.find((item) => {\r\n      return item.id === value.fillter;\r\n    });\r\n    disPatch(removeQuickLink(1));\r\n    disPatch(addQuickLink({ path: `/product`, label: \"Sản phẩm\" }));\r\n    disPatch(\r\n      addQuickLink({\r\n        path: `/search-result`,\r\n        label: selectedCategory ? selectedCategory.name :\"All\",\r\n      })\r\n    );\r\n    value.enter&&disPatch(addQuickLink({ path: `#`, label: value.enter }));\r\n    history.push({ pathname: \"/search-result\", state: value });\r\n  }\r\n  return (\r\n    <div className=\"Search\">\r\n      <Formik initialValues={initialValues} onSubmit={(value) => onclickSearch(value)}>\r\n        <Form className=\"Form\">\r\n          <FastField\r\n            name=\"enter\"\r\n            component={Input}\r\n            placeholder=\"Tìm kiếm ...\"\r\n            type=\"text\"\r\n            isShowValidField={false}\r\n          />\r\n          <Field\r\n            name=\"fillter\"\r\n            component={SelectedInput}\r\n            dataSource={categoriesDataSource}\r\n            isShowValidField={false}\r\n          />\r\n          <Button type=\"submit\" className=\"ButtonSearch\">\r\n            <FontAwesomeIcon icon=\"search\" className=\"Icon\" />\r\n          </Button>\r\n        </Form>\r\n      </Formik>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Search;\r\n"]},"metadata":{},"sourceType":"module"}