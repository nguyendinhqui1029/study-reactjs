{"ast":null,"code":"import _toConsumableArray from\"C:/Users/qnguyen77/Desktop/reactjs/study-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"C:/Users/qnguyen77/Desktop/reactjs/study-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import CardProduct from\"./../../../component/CardProduct/CardProduct\";import Pagination from\"./../../../component/Pagination/Pagination\";import\"./BodyProductList.scss\";import productApi from\"../../../api/product.api\";import Loading from'./../../../component/Loading/Loading';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";BodyProductList.defaultProps={noItemPage:12,idCategory:''};function BodyProductList(props){var noItemPage=props.noItemPage,idCategory=props.idCategory;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),productList=_useState2[0],setProductList=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isShowLoading=_useState4[0],setIsShowLoading=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),totalRow=_useState6[0],setTotalRow=_useState6[1];var _useState7=useState(1),_useState8=_slicedToArray(_useState7,2),currentPage=_useState8[0],setCurrentPage=_useState8[1];function getProductListByPagination(pagination){var currentPage=pagination.currentPage;setCurrentPage(currentPage);}useEffect(function(){setIsShowLoading(true);productApi.getProductList(idCategory,noItemPage,currentPage).then(function(response){setProductList(_toConsumableArray(response.data));setTotalRow(response.pagination.totalRow);setIsShowLoading(false);});},[idCategory,currentPage,noItemPage]);return/*#__PURE__*/_jsxs(\"div\",{className:\"BodyProductList\",children:[/*#__PURE__*/_jsx(\"div\",{className:!isShowLoading?\"DisplayNone\":\"ProductList\",children:/*#__PURE__*/_jsx(Loading,{isLoading:isShowLoading})}),/*#__PURE__*/_jsx(\"div\",{className:isShowLoading?\"DisplayNone\":\"ProductList\",children:productList.map(function(product,index){return/*#__PURE__*/_jsx(CardProduct,{itemProduct:product},index);})}),/*#__PURE__*/_jsx(\"div\",{className:\"Pagination\",children:/*#__PURE__*/_jsx(Pagination,{pageChangeClick:getProductListByPagination,itemPage:noItemPage,totalItem:totalRow})})]});}export default BodyProductList;","map":{"version":3,"sources":["C:/Users/qnguyen77/Desktop/reactjs/study-react/src/screens/Product/BodyProductList/BodyProductList.jsx"],"names":["React","useEffect","useState","CardProduct","Pagination","productApi","Loading","BodyProductList","defaultProps","noItemPage","idCategory","props","productList","setProductList","isShowLoading","setIsShowLoading","totalRow","setTotalRow","currentPage","setCurrentPage","getProductListByPagination","pagination","getProductList","then","response","data","map","product","index"],"mappings":"kVAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CAEA,MAAOC,CAAAA,WAAP,KAAwB,8CAAxB,CACA,MAAOC,CAAAA,UAAP,KAAuB,4CAAvB,CACA,MAAO,wBAAP,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,CACA,MAAOC,CAAAA,OAAP,KAAoB,sCAApB,C,wFAMAC,eAAe,CAACC,YAAhB,CAA+B,CAC7BC,UAAU,CAAE,EADiB,CAE7BC,UAAU,CAAC,EAFkB,CAA/B,CAKA,QAASH,CAAAA,eAAT,CAAyBI,KAAzB,CAAgC,CAC9B,GAAQF,CAAAA,UAAR,CAAmCE,KAAnC,CAAQF,UAAR,CAAoBC,UAApB,CAAmCC,KAAnC,CAAoBD,UAApB,CACA,cAAsCR,QAAQ,CAAC,EAAD,CAA9C,wCAAOU,WAAP,eAAoBC,cAApB,eACA,eAA0CX,QAAQ,CAAC,KAAD,CAAlD,yCAAOY,aAAP,eAAsBC,gBAAtB,eACA,eAAgCb,QAAQ,CAAC,CAAD,CAAxC,yCAAOc,QAAP,eAAiBC,WAAjB,eACA,eAAsCf,QAAQ,CAAC,CAAD,CAA9C,yCAAOgB,WAAP,eAAoBC,cAApB,eAGA,QAASC,CAAAA,0BAAT,CAAoCC,UAApC,CAAgD,CAC9C,GAAQH,CAAAA,WAAR,CAAwBG,UAAxB,CAAQH,WAAR,CACAC,cAAc,CAACD,WAAD,CAAd,CACD,CAEDjB,SAAS,CAAC,UAAM,CACdc,gBAAgB,CAAC,IAAD,CAAhB,CACAV,UAAU,CACPiB,cADH,CACkBZ,UADlB,CAC8BD,UAD9B,CAC0CS,WAD1C,EAEGK,IAFH,CAEQ,SAACC,QAAD,CAAc,CAClBX,cAAc,oBAAKW,QAAQ,CAACC,IAAd,EAAd,CACAR,WAAW,CAACO,QAAQ,CAACH,UAAT,CAAoBL,QAArB,CAAX,CACAD,gBAAgB,CAAC,KAAD,CAAhB,CACD,CANH,EAOD,CATQ,CASN,CAACL,UAAD,CAAaQ,WAAb,CAA0BT,UAA1B,CATM,CAAT,CAUA,mBACE,aAAK,SAAS,CAAC,iBAAf,wBACE,YAAK,SAAS,CAAE,CAACK,aAAD,CAAiB,aAAjB,CAAiC,aAAjD,uBACG,KAAC,OAAD,EAAS,SAAS,CAAEA,aAApB,EADH,EADF,cAIE,YAAK,SAAS,CAAEA,aAAa,CAAG,aAAH,CAAmB,aAAhD,UACGF,WAAW,CAACc,GAAZ,CAAgB,SAACC,OAAD,CAAUC,KAAV,CAAoB,CACnC,mBAAO,KAAC,WAAD,EAAyB,WAAW,CAAED,OAAtC,EAAkBC,KAAlB,CAAP,CACD,CAFA,CADH,EAJF,cASE,YAAK,SAAS,CAAC,YAAf,uBACE,KAAC,UAAD,EACE,eAAe,CAAER,0BADnB,CAEE,QAAQ,CAAEX,UAFZ,CAGE,SAAS,CAAEO,QAHb,EADF,EATF,GADF,CAmBD,CAED,cAAeT,CAAAA,eAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport CardProduct from \"./../../../component/CardProduct/CardProduct\";\r\nimport Pagination from \"./../../../component/Pagination/Pagination\";\r\nimport \"./BodyProductList.scss\";\r\nimport productApi from \"../../../api/product.api\";\r\nimport Loading from './../../../component/Loading/Loading';\r\n\r\nBodyProductList.propTypes = {\r\n  noItemPage: PropTypes.number,\r\n  idCategory: PropTypes.string,\r\n};\r\nBodyProductList.defaultProps = {\r\n  noItemPage: 12,\r\n  idCategory:'',\r\n};\r\n\r\nfunction BodyProductList(props) {\r\n  const { noItemPage, idCategory } = props;\r\n  const [productList, setProductList] = useState([]);\r\n  const [isShowLoading, setIsShowLoading] = useState(false);\r\n  const [totalRow, setTotalRow] = useState(0);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n\r\n  \r\n  function getProductListByPagination(pagination) {\r\n    const { currentPage } = pagination;\r\n    setCurrentPage(currentPage);\r\n  }\r\n\r\n  useEffect(() => {\r\n    setIsShowLoading(true);\r\n    productApi\r\n      .getProductList(idCategory, noItemPage, currentPage)\r\n      .then((response) => {\r\n        setProductList([...response.data]);\r\n        setTotalRow(response.pagination.totalRow);\r\n        setIsShowLoading(false);\r\n      });\r\n  }, [idCategory, currentPage, noItemPage]);\r\n  return (\r\n    <div className=\"BodyProductList\">\r\n      <div className={!isShowLoading ? \"DisplayNone\" : \"ProductList\"}>\r\n        {<Loading isLoading={isShowLoading} />}\r\n      </div>\r\n      <div className={isShowLoading ? \"DisplayNone\" : \"ProductList\"}>\r\n        {productList.map((product, index) => {\r\n          return <CardProduct key={index} itemProduct={product} />;\r\n        })}\r\n      </div>\r\n      <div className=\"Pagination\">\r\n        <Pagination\r\n          pageChangeClick={getProductListByPagination}\r\n          itemPage={noItemPage}\r\n          totalItem={totalRow}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BodyProductList;\r\n"]},"metadata":{},"sourceType":"module"}