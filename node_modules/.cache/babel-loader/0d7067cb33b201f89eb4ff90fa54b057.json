{"ast":null,"code":"const initialState = {\n  id: sessionStorage.getItem(\"ID\") || \"\",\n  idCustomer: \"\",\n  cartList: !!sessionStorage.getItem(\"ITEM_LIST\") && JSON.parse(sessionStorage.getItem(\"ITEM_LIST\")).cartList || [],\n  address: JSON.parse(sessionStorage.getItem(\"ADD_ADDRESS\")) || null,\n  addressOther: JSON.parse(sessionStorage.getItem(\"ADD_ADDRESS_OTHER\")) || null,\n  deliveryMethod: JSON.parse(sessionStorage.getItem(\"ADD_DELIVERY_METHOD\")) || null,\n  paymentMethod: JSON.parse(sessionStorage.getItem(\"ADD_PAYMENT_METHOD\")) || null,\n  status: sessionStorage.getItem(\"STATUS\") || \"draft\"\n};\n\nconst cartReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case \"ADD_ADDRESS\":\n      {\n        state.address = { ...action.payload\n        };\n        sessionStorage.setItem(\"ADD_ADDRESS\", JSON.stringify(action.payload));\n        return state;\n      }\n\n    case \"ADD_ADDRESS_OTHER\":\n      {\n        state.addressOther = { ...action.payload\n        };\n        sessionStorage.setItem(\"ADD_ADDRESS_OTHER\", JSON.stringify(action.payload));\n        return state;\n      }\n\n    case \"ADD_DELIVERY_METHOD\":\n      {\n        state.deliveryMethod = { ...action.payload\n        };\n        sessionStorage.setItem(\"ADD_DELIVERY_METHOD\", JSON.stringify(action.payload));\n        return state;\n      }\n\n    case \"ADD_PAYMENT_METHOD\":\n      {\n        state.paymentMethod = { ...action.payload\n        };\n        sessionStorage.setItem(\"ADD_PAYMENT_METHOD\", JSON.stringify(action.payload));\n        return state;\n      }\n\n    case \"ADD_ITEM_TO_CART\":\n      {\n        let product = state.cartList.find(cart => {\n          return cart.id === action.payload.id;\n        });\n\n        if (!!product) {\n          product.amount += action.payload.amount || 1;\n        } else {\n          state.cartList.push({ ...action.payload,\n            amount: action.payload.amount || 1\n          });\n        }\n\n        const obj = {\n          cartList: [...state.cartList]\n        };\n        sessionStorage.setItem(\"ITEM_LIST\", JSON.stringify(obj));\n        return obj;\n      }\n\n    case \"RESET_CART_LIST\":\n      {\n        const obj = { ...state,\n          cartList: action.payload\n        };\n        sessionStorage.setItem(\"ITEM_LIST\", JSON.stringify(obj));\n        return obj;\n      }\n\n    case \"UPDATE_AMOUNT_CART\":\n      {\n        if (!!action.payload) {\n          state.cartList[action.payload.index] = action.payload;\n          const obj = {\n            cartList: [...state.cartList]\n          };\n          sessionStorage.setItem(\"ITEM_LIST\", JSON.stringify(obj));\n          return obj;\n        }\n      }\n\n    case \"REMOVE_CART\":\n      {\n        if (!!action.payload) {\n          state.cartList.splice(action.payload.index, 1);\n          state.cartList = [...state.cartList];\n          const obj = { ...state,\n            cartList: [...state.cartList]\n          };\n          sessionStorage.setItem(\"ITEM_LIST\", JSON.stringify(obj));\n        }\n\n        return state;\n      }\n\n    case \"STATUS\":\n      {\n        state.status = action.payload;\n        sessionStorage.setItem(\"STATUS\", action.payload);\n        return state;\n      }\n\n    case \"ID\":\n      {\n        state.id = action.payload;\n        sessionStorage.setItem(\"ID\", action.payload);\n        return state;\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport default cartReducer; //https://github.com/sudheerj/javascript-interview-questions","map":{"version":3,"sources":["C:/Users/qnguyen77/Desktop/reactjs/study-react/src/reducers/cart.js"],"names":["initialState","id","sessionStorage","getItem","idCustomer","cartList","JSON","parse","address","addressOther","deliveryMethod","paymentMethod","status","cartReducer","state","action","type","payload","setItem","stringify","product","find","cart","amount","push","obj","index","splice"],"mappings":"AAAA,MAAMA,YAAY,GAAG;AACnBC,EAAAA,EAAE,EAAEC,cAAc,CAACC,OAAf,CAAuB,IAAvB,KAAgC,EADjB;AAEnBC,EAAAA,UAAU,EAAE,EAFO;AAGnBC,EAAAA,QAAQ,EACL,CAAC,CAACH,cAAc,CAACC,OAAf,CAAuB,WAAvB,CAAF,IACCG,IAAI,CAACC,KAAL,CAAWL,cAAc,CAACC,OAAf,CAAuB,WAAvB,CAAX,EAAgDE,QADlD,IAEA,EANiB;AAOnBG,EAAAA,OAAO,EAAEF,IAAI,CAACC,KAAL,CAAWL,cAAc,CAACC,OAAf,CAAuB,aAAvB,CAAX,KAAqD,IAP3C;AAQnBM,EAAAA,YAAY,EAAEH,IAAI,CAACC,KAAL,CAAWL,cAAc,CAACC,OAAf,CAAuB,mBAAvB,CAAX,KAA2D,IARtD;AASnBO,EAAAA,cAAc,EACZJ,IAAI,CAACC,KAAL,CAAWL,cAAc,CAACC,OAAf,CAAuB,qBAAvB,CAAX,KAA6D,IAV5C;AAWnBQ,EAAAA,aAAa,EACXL,IAAI,CAACC,KAAL,CAAWL,cAAc,CAACC,OAAf,CAAuB,oBAAvB,CAAX,KAA4D,IAZ3C;AAanBS,EAAAA,MAAM,EAACV,cAAc,CAACC,OAAf,CAAuB,QAAvB,KAAoC;AAbxB,CAArB;;AAeA,MAAMU,WAAW,GAAG,CAACC,KAAK,GAAGd,YAAT,EAAuBe,MAAvB,KAAkC;AACpD,UAAQA,MAAM,CAACC,IAAf;AACE,SAAK,aAAL;AAAoB;AAClBF,QAAAA,KAAK,CAACN,OAAN,GAAgB,EAAE,GAAGO,MAAM,CAACE;AAAZ,SAAhB;AACAf,QAAAA,cAAc,CAACgB,OAAf,CAAuB,aAAvB,EAAsCZ,IAAI,CAACa,SAAL,CAAeJ,MAAM,CAACE,OAAtB,CAAtC;AACA,eAAOH,KAAP;AACD;;AACD,SAAK,mBAAL;AAA0B;AACxBA,QAAAA,KAAK,CAACL,YAAN,GAAqB,EAAE,GAAGM,MAAM,CAACE;AAAZ,SAArB;AACAf,QAAAA,cAAc,CAACgB,OAAf,CACE,mBADF,EAEEZ,IAAI,CAACa,SAAL,CAAeJ,MAAM,CAACE,OAAtB,CAFF;AAIA,eAAOH,KAAP;AACD;;AACD,SAAK,qBAAL;AAA4B;AAC1BA,QAAAA,KAAK,CAACJ,cAAN,GAAuB,EAAE,GAAGK,MAAM,CAACE;AAAZ,SAAvB;AACAf,QAAAA,cAAc,CAACgB,OAAf,CACE,qBADF,EAEEZ,IAAI,CAACa,SAAL,CAAeJ,MAAM,CAACE,OAAtB,CAFF;AAIA,eAAOH,KAAP;AACD;;AACD,SAAK,oBAAL;AAA2B;AACzBA,QAAAA,KAAK,CAACH,aAAN,GAAsB,EAAE,GAAGI,MAAM,CAACE;AAAZ,SAAtB;AACAf,QAAAA,cAAc,CAACgB,OAAf,CACE,oBADF,EAEEZ,IAAI,CAACa,SAAL,CAAeJ,MAAM,CAACE,OAAtB,CAFF;AAIA,eAAOH,KAAP;AACD;;AACD,SAAK,kBAAL;AAAyB;AACvB,YAAIM,OAAO,GAAGN,KAAK,CAACT,QAAN,CAAegB,IAAf,CAAqBC,IAAD,IAAU;AAC1C,iBAAOA,IAAI,CAACrB,EAAL,KAAYc,MAAM,CAACE,OAAP,CAAehB,EAAlC;AACD,SAFa,CAAd;;AAIA,YAAI,CAAC,CAACmB,OAAN,EAAe;AACbA,UAAAA,OAAO,CAACG,MAAR,IAAkBR,MAAM,CAACE,OAAP,CAAeM,MAAf,IAAyB,CAA3C;AACD,SAFD,MAEO;AACLT,UAAAA,KAAK,CAACT,QAAN,CAAemB,IAAf,CAAoB,EAAE,GAAGT,MAAM,CAACE,OAAZ;AAAqBM,YAAAA,MAAM,EAAER,MAAM,CAACE,OAAP,CAAeM,MAAf,IAAyB;AAAtD,WAApB;AACD;;AAED,cAAME,GAAG,GAAG;AAAEpB,UAAAA,QAAQ,EAAE,CAAC,GAAGS,KAAK,CAACT,QAAV;AAAZ,SAAZ;AACAH,QAAAA,cAAc,CAACgB,OAAf,CAAuB,WAAvB,EAAoCZ,IAAI,CAACa,SAAL,CAAeM,GAAf,CAApC;AACA,eAAOA,GAAP;AACD;;AAED,SAAK,iBAAL;AAAwB;AACtB,cAAMA,GAAG,GAAG,EAAE,GAAGX,KAAL;AAAYT,UAAAA,QAAQ,EAAEU,MAAM,CAACE;AAA7B,SAAZ;AACAf,QAAAA,cAAc,CAACgB,OAAf,CAAuB,WAAvB,EAAoCZ,IAAI,CAACa,SAAL,CAAeM,GAAf,CAApC;AACA,eAAOA,GAAP;AACD;;AAED,SAAK,oBAAL;AAA2B;AACzB,YAAI,CAAC,CAACV,MAAM,CAACE,OAAb,EAAsB;AACpBH,UAAAA,KAAK,CAACT,QAAN,CAAeU,MAAM,CAACE,OAAP,CAAeS,KAA9B,IAAuCX,MAAM,CAACE,OAA9C;AACA,gBAAMQ,GAAG,GAAG;AAAEpB,YAAAA,QAAQ,EAAE,CAAC,GAAGS,KAAK,CAACT,QAAV;AAAZ,WAAZ;AACAH,UAAAA,cAAc,CAACgB,OAAf,CAAuB,WAAvB,EAAoCZ,IAAI,CAACa,SAAL,CAAeM,GAAf,CAApC;AACA,iBAAOA,GAAP;AACD;AACF;;AACD,SAAK,aAAL;AAAoB;AAClB,YAAI,CAAC,CAACV,MAAM,CAACE,OAAb,EAAsB;AACpBH,UAAAA,KAAK,CAACT,QAAN,CAAesB,MAAf,CAAsBZ,MAAM,CAACE,OAAP,CAAeS,KAArC,EAA4C,CAA5C;AACAZ,UAAAA,KAAK,CAACT,QAAN,GAAiB,CAAC,GAAGS,KAAK,CAACT,QAAV,CAAjB;AACA,gBAAMoB,GAAG,GAAG,EAAE,GAAGX,KAAL;AAAYT,YAAAA,QAAQ,EAAE,CAAC,GAAGS,KAAK,CAACT,QAAV;AAAtB,WAAZ;AACAH,UAAAA,cAAc,CAACgB,OAAf,CAAuB,WAAvB,EAAoCZ,IAAI,CAACa,SAAL,CAAeM,GAAf,CAApC;AACD;;AACD,eAAOX,KAAP;AACD;;AAED,SAAK,QAAL;AAAe;AACbA,QAAAA,KAAK,CAACF,MAAN,GAAeG,MAAM,CAACE,OAAtB;AACAf,QAAAA,cAAc,CAACgB,OAAf,CAAuB,QAAvB,EAAiCH,MAAM,CAACE,OAAxC;AACA,eAAOH,KAAP;AACD;;AACD,SAAK,IAAL;AAAW;AACTA,QAAAA,KAAK,CAACb,EAAN,GAAWc,MAAM,CAACE,OAAlB;AACAf,QAAAA,cAAc,CAACgB,OAAf,CAAuB,IAAvB,EAA6BH,MAAM,CAACE,OAApC;AACA,eAAOH,KAAP;AACD;;AACD;AACE,aAAOA,KAAP;AAjFJ;AAmFD,CApFD;;AAsFA,eAAeD,WAAf,C,CAEA","sourcesContent":["const initialState = {\r\n  id: sessionStorage.getItem(\"ID\") || \"\",\r\n  idCustomer: \"\",\r\n  cartList:\r\n    (!!sessionStorage.getItem(\"ITEM_LIST\") &&\r\n      JSON.parse(sessionStorage.getItem(\"ITEM_LIST\")).cartList) ||\r\n    [],\r\n  address: JSON.parse(sessionStorage.getItem(\"ADD_ADDRESS\")) || null,\r\n  addressOther: JSON.parse(sessionStorage.getItem(\"ADD_ADDRESS_OTHER\")) || null,\r\n  deliveryMethod:\r\n    JSON.parse(sessionStorage.getItem(\"ADD_DELIVERY_METHOD\")) || null,\r\n  paymentMethod:\r\n    JSON.parse(sessionStorage.getItem(\"ADD_PAYMENT_METHOD\")) || null,\r\n  status:sessionStorage.getItem(\"STATUS\") || \"draft\",\r\n};\r\nconst cartReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case \"ADD_ADDRESS\": {\r\n      state.address = { ...action.payload };\r\n      sessionStorage.setItem(\"ADD_ADDRESS\", JSON.stringify(action.payload));\r\n      return state;\r\n    }\r\n    case \"ADD_ADDRESS_OTHER\": {\r\n      state.addressOther = { ...action.payload };\r\n      sessionStorage.setItem(\r\n        \"ADD_ADDRESS_OTHER\",\r\n        JSON.stringify(action.payload)\r\n      );\r\n      return state;\r\n    }\r\n    case \"ADD_DELIVERY_METHOD\": {\r\n      state.deliveryMethod = { ...action.payload };\r\n      sessionStorage.setItem(\r\n        \"ADD_DELIVERY_METHOD\",\r\n        JSON.stringify(action.payload)\r\n      );\r\n      return state;\r\n    }\r\n    case \"ADD_PAYMENT_METHOD\": {\r\n      state.paymentMethod = { ...action.payload };\r\n      sessionStorage.setItem(\r\n        \"ADD_PAYMENT_METHOD\",\r\n        JSON.stringify(action.payload)\r\n      );\r\n      return state;\r\n    }\r\n    case \"ADD_ITEM_TO_CART\": {\r\n      let product = state.cartList.find((cart) => {\r\n        return cart.id === action.payload.id;\r\n      });\r\n\r\n      if (!!product) {\r\n        product.amount += action.payload.amount || 1;\r\n      } else {\r\n        state.cartList.push({ ...action.payload, amount: action.payload.amount || 1 });\r\n      }\r\n\r\n      const obj = { cartList: [...state.cartList] };\r\n      sessionStorage.setItem(\"ITEM_LIST\", JSON.stringify(obj));\r\n      return obj;\r\n    }\r\n\r\n    case \"RESET_CART_LIST\": {\r\n      const obj = { ...state, cartList: action.payload };\r\n      sessionStorage.setItem(\"ITEM_LIST\", JSON.stringify(obj));\r\n      return obj;\r\n    }\r\n\r\n    case \"UPDATE_AMOUNT_CART\": {\r\n      if (!!action.payload) {\r\n        state.cartList[action.payload.index] = action.payload;\r\n        const obj = { cartList: [...state.cartList] };\r\n        sessionStorage.setItem(\"ITEM_LIST\", JSON.stringify(obj));\r\n        return obj;\r\n      }\r\n    }\r\n    case \"REMOVE_CART\": {\r\n      if (!!action.payload) {\r\n        state.cartList.splice(action.payload.index, 1);\r\n        state.cartList = [...state.cartList];\r\n        const obj = { ...state, cartList: [...state.cartList] };\r\n        sessionStorage.setItem(\"ITEM_LIST\", JSON.stringify(obj));\r\n      }\r\n      return state;\r\n    }\r\n\r\n    case \"STATUS\": {\r\n      state.status = action.payload;\r\n      sessionStorage.setItem(\"STATUS\", action.payload);\r\n      return state;\r\n    }\r\n    case \"ID\": {\r\n      state.id = action.payload;\r\n      sessionStorage.setItem(\"ID\", action.payload);\r\n      return state;\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default cartReducer;\r\n\r\n//https://github.com/sudheerj/javascript-interview-questions\r\n"]},"metadata":{},"sourceType":"module"}