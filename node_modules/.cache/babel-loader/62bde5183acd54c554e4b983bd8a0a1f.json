{"ast":null,"code":"import _toConsumableArray from\"C:/Users/qnguyen77/Desktop/reactjs/study-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"C:/Users/qnguyen77/Desktop/reactjs/study-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";var initialState={id:sessionStorage.getItem(\"ID\")||\"\",idCustomer:\"5d1b8222-8241-45dd-ac89-70d1793b6f4a\",cartList:!!sessionStorage.getItem(\"ITEM_LIST\")&&JSON.parse(sessionStorage.getItem(\"ITEM_LIST\")).cartList||[],address:JSON.parse(sessionStorage.getItem(\"ADD_ADDRESS\"))||null,addressOther:JSON.parse(sessionStorage.getItem(\"ADD_ADDRESS_OTHER\"))||null,deliveryMethod:JSON.parse(sessionStorage.getItem(\"ADD_DELIVERY_METHOD\"))||null,paymentMethod:JSON.parse(sessionStorage.getItem(\"ADD_PAYMENT_METHOD\"))||null,status:sessionStorage.getItem(\"STATUS\")||\"draft\"};var cartReducer=function cartReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case\"ADD_ADDRESS\":{state.address=_objectSpread({},action.payload);sessionStorage.setItem(\"ADD_ADDRESS\",JSON.stringify(action.payload));return state;}case\"ADD_ADDRESS_OTHER\":{state.addressOther=_objectSpread({},action.payload);sessionStorage.setItem(\"ADD_ADDRESS_OTHER\",JSON.stringify(action.payload));return state;}case\"ADD_DELIVERY_METHOD\":{state.deliveryMethod=_objectSpread({},action.payload);sessionStorage.setItem(\"ADD_DELIVERY_METHOD\",JSON.stringify(action.payload));return state;}case\"ADD_PAYMENT_METHOD\":{state.paymentMethod=_objectSpread({},action.payload);sessionStorage.setItem(\"ADD_PAYMENT_METHOD\",JSON.stringify(action.payload));return state;}case\"ADD_ITEM_TO_CART\":{var product=state.cartList.find(function(cart){return cart.id===action.payload.id;});if(!!product){product.amount+=1;}else{state.cartList.push(_objectSpread(_objectSpread({},action.payload),{},{amount:1}));}var obj={cartList:_toConsumableArray(state.cartList)};sessionStorage.setItem(\"ITEM_LIST\",JSON.stringify(obj));return obj;}case\"RESET_CART_LIST\":{var _obj={cartList:action.payload};sessionStorage.setItem(\"ITEM_LIST\",JSON.stringify(_obj));return _obj;}case\"UPDATE_AMOUNT_CART\":{if(!!action.payload){state.cartList[action.payload.index]=action.payload;var _obj2={cartList:_toConsumableArray(state.cartList)};sessionStorage.setItem(\"ITEM_LIST\",JSON.stringify(_obj2));return _obj2;}}case\"REMOVE_CART\":{if(!!action.payload){state.cartList.splice(action.payload.index,1);state.cartList=_toConsumableArray(state.cartList);var _obj3=_objectSpread(_objectSpread({},state),{},{cartList:_toConsumableArray(state.cartList)});sessionStorage.setItem(\"ITEM_LIST\",JSON.stringify(_obj3));}return state;}case\"STATUS\":{state.status=action.payload;sessionStorage.setItem(\"STATUS\",action.payload);return state;}case\"ID\":{state.id=action.payload;sessionStorage.setItem(\"ID\",action.payload);return state;}default:return state;}};export default cartReducer;//https://github.com/sudheerj/javascript-interview-questions","map":{"version":3,"sources":["C:/Users/qnguyen77/Desktop/reactjs/study-react/src/reducers/cart.js"],"names":["initialState","id","sessionStorage","getItem","idCustomer","cartList","JSON","parse","address","addressOther","deliveryMethod","paymentMethod","status","cartReducer","state","action","type","payload","setItem","stringify","product","find","cart","amount","push","obj","index","splice"],"mappings":"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","sourcesContent":["const initialState = {\r\n  id: sessionStorage.getItem(\"ID\") || \"\",\r\n  idCustomer: \"5d1b8222-8241-45dd-ac89-70d1793b6f4a\",\r\n  cartList:\r\n    (!!sessionStorage.getItem(\"ITEM_LIST\") &&\r\n      JSON.parse(sessionStorage.getItem(\"ITEM_LIST\")).cartList) ||\r\n    [],\r\n  address: JSON.parse(sessionStorage.getItem(\"ADD_ADDRESS\")) || null,\r\n  addressOther: JSON.parse(sessionStorage.getItem(\"ADD_ADDRESS_OTHER\")) || null,\r\n  deliveryMethod:\r\n    JSON.parse(sessionStorage.getItem(\"ADD_DELIVERY_METHOD\")) || null,\r\n  paymentMethod:\r\n    JSON.parse(sessionStorage.getItem(\"ADD_PAYMENT_METHOD\")) || null,\r\n  status:sessionStorage.getItem(\"STATUS\") || \"draft\",\r\n};\r\nconst cartReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case \"ADD_ADDRESS\": {\r\n      state.address = { ...action.payload };\r\n      sessionStorage.setItem(\"ADD_ADDRESS\", JSON.stringify(action.payload));\r\n      return state;\r\n    }\r\n    case \"ADD_ADDRESS_OTHER\": {\r\n      state.addressOther = { ...action.payload };\r\n      sessionStorage.setItem(\r\n        \"ADD_ADDRESS_OTHER\",\r\n        JSON.stringify(action.payload)\r\n      );\r\n      return state;\r\n    }\r\n    case \"ADD_DELIVERY_METHOD\": {\r\n      state.deliveryMethod = { ...action.payload };\r\n      sessionStorage.setItem(\r\n        \"ADD_DELIVERY_METHOD\",\r\n        JSON.stringify(action.payload)\r\n      );\r\n      return state;\r\n    }\r\n    case \"ADD_PAYMENT_METHOD\": {\r\n      state.paymentMethod = { ...action.payload };\r\n      sessionStorage.setItem(\r\n        \"ADD_PAYMENT_METHOD\",\r\n        JSON.stringify(action.payload)\r\n      );\r\n      return state;\r\n    }\r\n    case \"ADD_ITEM_TO_CART\": {\r\n      let product = state.cartList.find((cart) => {\r\n        return cart.id === action.payload.id;\r\n      });\r\n\r\n      if (!!product) {\r\n        product.amount += 1;\r\n      } else {\r\n        state.cartList.push({ ...action.payload, amount: 1 });\r\n      }\r\n\r\n      const obj = { cartList: [...state.cartList] };\r\n      sessionStorage.setItem(\"ITEM_LIST\", JSON.stringify(obj));\r\n      return obj;\r\n    }\r\n\r\n    case \"RESET_CART_LIST\": {\r\n      const obj = { cartList: action.payload };\r\n      sessionStorage.setItem(\"ITEM_LIST\", JSON.stringify(obj));\r\n      return obj;\r\n    }\r\n\r\n    case \"UPDATE_AMOUNT_CART\": {\r\n      if (!!action.payload) {\r\n        state.cartList[action.payload.index] = action.payload;\r\n        const obj = { cartList: [...state.cartList] };\r\n        sessionStorage.setItem(\"ITEM_LIST\", JSON.stringify(obj));\r\n        return obj;\r\n      }\r\n    }\r\n    case \"REMOVE_CART\": {\r\n      if (!!action.payload) {\r\n        state.cartList.splice(action.payload.index, 1);\r\n        state.cartList = [...state.cartList];\r\n        const obj = { ...state, cartList: [...state.cartList] };\r\n        sessionStorage.setItem(\"ITEM_LIST\", JSON.stringify(obj));\r\n      }\r\n      return state;\r\n    }\r\n\r\n    case \"STATUS\": {\r\n      state.status = action.payload;\r\n      sessionStorage.setItem(\"STATUS\", action.payload);\r\n      return state;\r\n    }\r\n    case \"ID\": {\r\n      state.id = action.payload;\r\n      sessionStorage.setItem(\"ID\", action.payload);\r\n      return state;\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default cartReducer;\r\n\r\n//https://github.com/sudheerj/javascript-interview-questions\r\n"]},"metadata":{},"sourceType":"module"}