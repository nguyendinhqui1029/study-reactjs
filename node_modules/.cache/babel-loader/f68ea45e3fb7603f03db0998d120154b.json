{"ast":null,"code":"import _slicedToArray from\"C:/Users/qnguyen77/Desktop/reactjs/study-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import NavigateQuickly from\"./../../component/NavigateQuickly/NavigateQuickly\";import Header from\"./../../component/Header/Header\";import Input from\"./../../component/Input/Input\";import{Field,Formik,Form}from\"formik\";import{Button}from\"@material-ui/core\";import Table from\"./../../component/Table/Table\";import orderDetailApi from\"../../api/orderDetail\";import Yup from\"../../validation/CustomValidation\";import{useSelector}from\"react-redux\";import Loading from\"./../../component/Loading/Loading\";import\"./MyOrder.scss\";import{calculateIntoMoney,calculateTotal,formatCurrency}from\"../../util/util\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var cartModel={cartList:[],deliveryMethod:{fee:0},paymentMethod:null,address:{name:\"\",email:\"\",address:\"\",city:\"\",district:\"\",description:\"\"},addressOther:{nameOther:\"\",emailOther:\"\",addressOther:\"\",cityOther:\"\",districtOther:\"\",descriptionOther:\"\"},createdAt:0,id:\"\"};function MyOrder(){var _useState=useState(cartModel),_useState2=_slicedToArray(_useState,2),orderDetail=_useState2[0],setOrderDetail=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showOrderDetail=_useState4[0],setShowOrderDetail=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isShowLoading=_useState6[0],setIsShowLoading=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),dataList=_useState8[0],setDataList=_useState8[1];var id=useSelector(function(cart){return cart.cart.id;});useEffect(function(){if(id!==\"\"){orderDetailApi.getorderDetailById(id).then(function(result){if(result.hasOwnProperty(\"id\")){setShowOrderDetail(true);setOrderDetail(result);setDataList(calculateIntoMoney(result.cartList));}else{setShowOrderDetail(false);setIsShowLoading(false);}});}},[]);var submitSearch=function submitSearch(value){setShowOrderDetail(false);setIsShowLoading(true);orderDetailApi.getorderDetailById(value.idOrder).then(function(result){if(result.hasOwnProperty(\"id\")){setShowOrderDetail(true);setOrderDetail(result);setDataList(calculateIntoMoney(result.cartList));setIsShowLoading(false);}else{setShowOrderDetail(false);setIsShowLoading(false);}});};var initialValue={idOrder:id};var validations=Yup.object().shape({idOrder:Yup.string().requiredCustome(\"Vui lòng nhập mã đơn hàng của bạn.\")});return/*#__PURE__*/_jsx(\"div\",{className:\"MyOrder\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"ContainerBody\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"ContainerBodyLeft\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"ContainerBodyRight\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"NavQuickly\",children:/*#__PURE__*/_jsx(NavigateQuickly,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"Header\",children:/*#__PURE__*/_jsx(Header,{title:\"Ki\\u1EC3m tra \\u0111\\u01A1n h\\xE0ng\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"ContainerSearchOrder\",children:/*#__PURE__*/_jsx(Formik,{initialValues:initialValue,validationSchema:validations,onSubmit:function onSubmit(value){return submitSearch(value);},children:/*#__PURE__*/_jsxs(Form,{className:\"FormInfo\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"idOrder\",children:\"Nh\\u1EADp m\\xE3 \\u0111\\u01A1n h\\xE0ng\"}),/*#__PURE__*/_jsx(Field,{name:\"idOrder\",placeholder:\"VD: 1231212\",component:Input,type:\"text\"}),/*#__PURE__*/_jsx(Button,{className:\"Button\",type:\"submit\",children:\"Xem ngay\"})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ContainerOrderDetail\",children:[/*#__PURE__*/_jsx(Loading,{isLoading:isShowLoading}),showOrderDetail?/*#__PURE__*/_jsxs(\"div\",{className:\"ContainerHeader\",children:[/*#__PURE__*/_jsx(Header,{title:\"Th\\xF4ng tin \\u0111\\u01A1n h\\xE0ng\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"ContainerContent\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u0110\\u01A1n h\\xE0ng c\\u1EE7a\",/*#__PURE__*/_jsx(\"span\",{className:\"CustomerName\",children:orderDetail.address.name}),/*#__PURE__*/_jsxs(\"span\",{className:\"IdOrder\",children:[\"(\",orderDetail.id,\")\"]}),\"l\\xFAc\",new Date(orderDetail.createdAt).toLocaleDateString(\"en-GB\")]}),/*#__PURE__*/_jsx(Table,{dataList:dataList,headerList:headerList}),/*#__PURE__*/_jsxs(\"div\",{className:\"ContainerFooterInfo\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"ContainerFooterInfoLeft\",children:[/*#__PURE__*/_jsx(Header,{title:\"\\u0110\\u1ECBa ch\\u1EC9 nh\\u1EADn h\\xE0ng\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"ContainerContent\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"Label\",children:\"Ng\\u01B0\\u1EDDi nh\\u1EADn h\\xE0ng:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"Content\",children:orderDetail.address.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"ContainerContent\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"Label\",children:\"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"Content\",children:\"011123443\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"ContainerContent MarginBottom20\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"Label\",children:\"\\u0110\\u1ECBa ch\\u1EC9:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"Content\",children:orderDetail.address.address})]}),/*#__PURE__*/_jsx(Header,{title:\"Th\\xF4ng tin thanh to\\xE1n\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"ContainerContent\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"Label\",children:\"Ng\\u01B0\\u1EDDi thanh to\\xE1n:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"Content\",children:orderDetail.address.name||orderDetail.addressOther.nameOther})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"ContainerContent\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"Label\",children:\"S\\u1ED1 ti\\u1EC1n \\u0111\\xE3 thanh to\\xE1n:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"Content\",children:\"Ch\\u1ECB A\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"ContainerContent\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"Label\",children:\"S\\u1ED1 ti\\u1EC1n ch\\u01B0a thanh to\\xE1n:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"Content\",children:\"Ch\\u1ECB A\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"ContainerFooterInfoRight\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"ContainerBox\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"ContainerContent\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"Label\",children:\"Ph\\xED giao h\\xE0ng\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"Content\",children:[formatCurrency(orderDetail.deliveryMethod.fee),/*#__PURE__*/_jsx(\"sup\",{children:\"\\u0111\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"ContainerContent\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"Label\",children:\"T\\u1ED5ng thanh to\\xE1n\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"Content\",children:[formatCurrency(calculateTotal(orderDetail.cartList)+orderDetail.deliveryMethod.fee),/*#__PURE__*/_jsx(\"sup\",{children:\"\\u0111\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"ContainerContent\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"Status\",children:\"Tr\\u1EA1ng th\\xE1i \\u0111\\u01A1n h\\xE0ng\"}),/*#__PURE__*/_jsx(\"div\",{className:\"StatusName\",children:\"Ch\\u01B0a thanh to\\xE1n\"})]})]})})]})]})]}):!isShowLoading?/*#__PURE__*/_jsx(\"span\",{className:\"NotFound\",children:\"Kh\\xF4ng t\\xECm th\\u1EA5y \\u0111\\u01A1n h\\xE0ng c\\u1EE7a b\\u1EA1n. Vui l\\xF2ng ki\\u1EC3m tra l\\u1EA1i th\\xF4ng tin.\"}):\"\"]})]})]})});}export default MyOrder;var headerList=[{flex:1,label:\"\",propertyMapping:\"imageUrl\",type:\"IMAGE\",formatCurrency:false},{flex:3,label:\"TÊN SẢN PHẨM\",propertyMapping:\"productName\",type:\"LABLE\",formatCurrency:false},{flex:2,label:\"GIÁ\",propertyMapping:\"price\",type:\"LABLE\",formatCurrency:true},{flex:2,label:\"GIẢM GIÁ (%)\",propertyMapping:\"discount\",type:\"LABLE\",formatCurrency:true},{flex:2,label:\"SỐ LƯỢNG\",propertyMapping:\"amount\",type:\"LABLE\",formatCurrency:false},{flex:2,label:\"THÀNH TIỀN\",propertyMapping:\"intoMoney\",type:\"LABLE\",formatCurrency:true}];","map":{"version":3,"sources":["C:/Users/qnguyen77/Desktop/reactjs/study-react/src/screens/MyOrder/MyOrder.jsx"],"names":["React","useState","useEffect","NavigateQuickly","Header","Input","Field","Formik","Form","Button","Table","orderDetailApi","Yup","useSelector","Loading","calculateIntoMoney","calculateTotal","formatCurrency","cartModel","cartList","deliveryMethod","fee","paymentMethod","address","name","email","city","district","description","addressOther","nameOther","emailOther","cityOther","districtOther","descriptionOther","createdAt","id","MyOrder","orderDetail","setOrderDetail","showOrderDetail","setShowOrderDetail","isShowLoading","setIsShowLoading","dataList","setDataList","cart","getorderDetailById","then","result","hasOwnProperty","submitSearch","value","idOrder","initialValue","validations","object","shape","string","requiredCustome","Date","toLocaleDateString","headerList","flex","label","propertyMapping","type"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport NavigateQuickly from \"./../../component/NavigateQuickly/NavigateQuickly\";\r\nimport Header from \"./../../component/Header/Header\";\r\nimport Input from \"./../../component/Input/Input\";\r\nimport { Field, Formik, Form } from \"formik\";\r\nimport { Button } from \"@material-ui/core\";\r\nimport Table from \"./../../component/Table/Table\";\r\nimport orderDetailApi from \"../../api/orderDetail\";\r\nimport Yup from \"../../validation/CustomValidation\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Loading from \"./../../component/Loading/Loading\";\r\nimport \"./MyOrder.scss\";\r\nimport {\r\n  calculateIntoMoney,\r\n  calculateTotal,\r\n  formatCurrency,\r\n} from \"../../util/util\";\r\nconst cartModel = {\r\n  cartList: [],\r\n  deliveryMethod: { fee: 0 },\r\n  paymentMethod: null,\r\n  address: {\r\n    name: \"\",\r\n    email: \"\",\r\n    address: \"\",\r\n    city: \"\",\r\n    district: \"\",\r\n    description: \"\",\r\n  },\r\n  addressOther: {\r\n    nameOther: \"\",\r\n    emailOther: \"\",\r\n    addressOther: \"\",\r\n    cityOther: \"\",\r\n    districtOther: \"\",\r\n    descriptionOther: \"\",\r\n  },\r\n  createdAt: 0,\r\n  id: \"\",\r\n};\r\nfunction MyOrder() {\r\n  const [orderDetail, setOrderDetail] = useState(cartModel);\r\n  const [showOrderDetail, setShowOrderDetail] = useState(false);\r\n  const [isShowLoading, setIsShowLoading] = useState(false);\r\n  const [dataList, setDataList] = useState([]);\r\n  const id = useSelector((cart) => cart.cart.id);\r\n  useEffect(() => {\r\n    if (id !== \"\") {\r\n      orderDetailApi.getorderDetailById(id).then((result) => {\r\n        if (result.hasOwnProperty(\"id\")) {\r\n          setShowOrderDetail(true);\r\n          setOrderDetail(result);\r\n          setDataList(calculateIntoMoney(result.cartList));\r\n        } else {\r\n          setShowOrderDetail(false);\r\n          setIsShowLoading(false);\r\n        }\r\n      });\r\n    }\r\n  }, []);\r\n  const submitSearch = (value) => {\r\n    setShowOrderDetail(false);\r\n    setIsShowLoading(true);\r\n    orderDetailApi.getorderDetailById(value.idOrder).then((result) => {\r\n      if (result.hasOwnProperty(\"id\")) {\r\n        setShowOrderDetail(true);\r\n        setOrderDetail(result);\r\n        setDataList(calculateIntoMoney(result.cartList));\r\n        setIsShowLoading(false);\r\n      } else {\r\n        setShowOrderDetail(false);\r\n        setIsShowLoading(false);\r\n      }\r\n    });\r\n  };\r\n  const initialValue = {\r\n    idOrder: id,\r\n  };\r\n  const validations = Yup.object().shape({\r\n    idOrder: Yup.string().requiredCustome(\"Vui lòng nhập mã đơn hàng của bạn.\"),\r\n  });\r\n  return (\r\n    <div className=\"MyOrder\">\r\n      <div className=\"ContainerBody\">\r\n        <div className=\"ContainerBodyLeft\"></div>\r\n        <div className=\"ContainerBodyRight\">\r\n          <div className=\"NavQuickly\">\r\n            <NavigateQuickly />\r\n          </div>\r\n          <div className=\"Header\">\r\n            <Header title=\"Kiểm tra đơn hàng\" />\r\n          </div>\r\n          <div className=\"ContainerSearchOrder\">\r\n            <Formik\r\n              initialValues={initialValue}\r\n              validationSchema={validations}\r\n              onSubmit={(value) => submitSearch(value)}\r\n            >\r\n              <Form className=\"FormInfo\">\r\n                <label htmlFor=\"idOrder\">Nhập mã đơn hàng</label>\r\n                <Field\r\n                  name=\"idOrder\"\r\n                  placeholder=\"VD: 1231212\"\r\n                  component={Input}\r\n                  type=\"text\"\r\n                />\r\n                <Button className=\"Button\" type=\"submit\">\r\n                  Xem ngay\r\n                </Button>\r\n              </Form>\r\n            </Formik>\r\n          </div>\r\n          <div className=\"ContainerOrderDetail\">\r\n            <Loading isLoading={isShowLoading} />\r\n            {showOrderDetail ? (\r\n              <div className=\"ContainerHeader\">\r\n                <Header title=\"Thông tin đơn hàng\" />\r\n                <div className=\"ContainerContent\">\r\n                  <span>\r\n                    Đơn hàng của\r\n                    <span className=\"CustomerName\">\r\n                      {orderDetail.address.name}\r\n                    </span>\r\n                    <span className=\"IdOrder\">({orderDetail.id})</span>\r\n                    lúc\r\n                    {new Date(orderDetail.createdAt).toLocaleDateString(\r\n                      \"en-GB\"\r\n                    )}\r\n                  </span>\r\n                  <Table dataList={dataList} headerList={headerList} />\r\n                  <div className=\"ContainerFooterInfo\">\r\n                    <div className=\"ContainerFooterInfoLeft\">\r\n                      <Header title=\"Địa chỉ nhận hàng\" />\r\n                      <div className=\"ContainerContent\">\r\n                        <span className=\"Label\">Người nhận hàng:</span>\r\n                        <span className=\"Content\">\r\n                          {orderDetail.address.name}\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"ContainerContent\">\r\n                        <span className=\"Label\">Số điện thoại:</span>\r\n                        <span className=\"Content\">011123443</span>\r\n                      </div>\r\n                      <div className=\"ContainerContent MarginBottom20\">\r\n                        <span className=\"Label\">Địa chỉ:</span>\r\n                        <span className=\"Content\">\r\n                          {orderDetail.address.address}\r\n                        </span>\r\n                      </div>\r\n                      <Header title=\"Thông tin thanh toán\" />\r\n                      <div className=\"ContainerContent\">\r\n                        <span className=\"Label\">Người thanh toán:</span>\r\n                        <span className=\"Content\">\r\n                          {orderDetail.address.name ||\r\n                            orderDetail.addressOther.nameOther}\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"ContainerContent\">\r\n                        <span className=\"Label\">Số tiền đã thanh toán:</span>\r\n                        <span className=\"Content\">Chị A</span>\r\n                      </div>\r\n                      <div className=\"ContainerContent\">\r\n                        <span className=\"Label\">Số tiền chưa thanh toán:</span>\r\n                        <span className=\"Content\">Chị A</span>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"ContainerFooterInfoRight\">\r\n                      <div className=\"ContainerBox\">\r\n                        <div className=\"ContainerContent\">\r\n                          <span className=\"Label\">Phí giao hàng</span>\r\n                          <span className=\"Content\">\r\n                            {formatCurrency(orderDetail.deliveryMethod.fee)}\r\n                            <sup>đ</sup>\r\n                          </span>\r\n                        </div>\r\n                        <div className=\"ContainerContent\">\r\n                          <span className=\"Label\">Tổng thanh toán</span>\r\n                          <span className=\"Content\">\r\n                            {formatCurrency(\r\n                              calculateTotal(orderDetail.cartList) +\r\n                                orderDetail.deliveryMethod.fee\r\n                            )}\r\n                            <sup>đ</sup>\r\n                          </span>\r\n                        </div>\r\n                        <div className=\"ContainerContent\">\r\n                          <div className=\"Status\">Trạng thái đơn hàng</div>\r\n                          <div className=\"StatusName\">Chưa thanh toán</div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ) : !isShowLoading ? (\r\n              <span className=\"NotFound\">\r\n                Không tìm thấy đơn hàng của bạn. Vui lòng kiểm tra lại thông\r\n                tin.\r\n              </span>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MyOrder;\r\n\r\nconst headerList = [\r\n  {\r\n    flex: 1,\r\n    label: \"\",\r\n    propertyMapping: \"imageUrl\",\r\n    type: \"IMAGE\",\r\n    formatCurrency: false,\r\n  },\r\n  {\r\n    flex: 3,\r\n    label: \"TÊN SẢN PHẨM\",\r\n    propertyMapping: \"productName\",\r\n    type: \"LABLE\",\r\n    formatCurrency: false,\r\n  },\r\n  {\r\n    flex: 2,\r\n    label: \"GIÁ\",\r\n    propertyMapping: \"price\",\r\n    type: \"LABLE\",\r\n    formatCurrency: true,\r\n  },\r\n  {\r\n    flex: 2,\r\n    label: \"GIẢM GIÁ (%)\",\r\n    propertyMapping: \"discount\",\r\n    type: \"LABLE\",\r\n    formatCurrency: true,\r\n  },\r\n  {\r\n    flex: 2,\r\n    label: \"SỐ LƯỢNG\",\r\n    propertyMapping: \"amount\",\r\n    type: \"LABLE\",\r\n    formatCurrency: false,\r\n  },\r\n  {\r\n    flex: 2,\r\n    label: \"THÀNH TIỀN\",\r\n    propertyMapping: \"intoMoney\",\r\n    type: \"LABLE\",\r\n    formatCurrency: true,\r\n  },\r\n];\r\n"]},"metadata":{},"sourceType":"module"}