{"ast":null,"code":"import _slicedToArray from\"C:/Users/qnguyen77/Desktop/reactjs/study-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import Steper from\"../../component/Steper/Steper\";import Table from\"../../component/Table/Table\";import{ACTION_TYPE_TABLE}from\"../../Constant/Constant\";import NavigateQuickly from\"../../component/NavigateQuickly/NavigateQuickly\";import Header from\"../../component/Header/Header\";import Payment from\"../../component/Payment/Payment\";import CompletedOrder from\"../../component/CompletedOrder/CompletedOrder\";import{Button}from\"@material-ui/core\";import{BrowserRouter as Router,Switch,Route,useRouteMatch,useHistory,Link,Redirect}from\"react-router-dom\";import\"./CartDetail.scss\";import{useSelector}from\"react-redux\";import{useDispatch}from\"react-redux\";import{calculateIntoMoney,calculateTotal,formatCurrency}from\"../../util/util\";import{removeToCart,updateAmountToCart}from\"../../actions/cart\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function CartDetail(){var _useState=useState(dataSourceSteper),_useState2=_slicedToArray(_useState,1),listSteper=_useState2[0];var _useRouteMatch=useRouteMatch(),path=_useRouteMatch.path;//get root path\nvar history=useHistory();var cartList=useSelector(function(carts){return carts.cart.cartList;});var status=useSelector(function(carts){return carts.cart.status;});var disPatch=useDispatch();cartList=calculateIntoMoney(cartList);var removeItemCart=function removeItemCart(item,actionName){if(actionName===ACTION_TYPE_TABLE.DELETE){disPatch(removeToCart(item));}};var hanldeCalculateValue=function hanldeCalculateValue(newValue,item,propertyName){item[propertyName]=newValue;disPatch(updateAmountToCart(item));};return!cartList.length&&status===\"dratf\"?/*#__PURE__*/_jsx(Redirect,{to:\"/product\"}):/*#__PURE__*/_jsx(\"div\",{className:\"CartDetail\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"ContainerBody\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"NavQuickly\",children:/*#__PURE__*/_jsx(NavigateQuickly,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"Header\",children:/*#__PURE__*/_jsx(Header,{title:\"Thanh to\\xE1n\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"Steper\",children:/*#__PURE__*/_jsx(Steper,{listSteper:listSteper})}),/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/cart-detail\",exact:true,children:/*#__PURE__*/_jsxs(\"div\",{className:\"ProductInfo\",children:[/*#__PURE__*/_jsx(Table,{dataList:cartList,headerList:headerTable,hanldeCalculateValue:hanldeCalculateValue,hanldeAction:removeItemCart}),/*#__PURE__*/_jsxs(\"div\",{className:\"Total\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"Label\",children:\"T\\u1ED5ng thanh to\\xE1n:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"Content\",children:[formatCurrency(calculateTotal(cartList)),\" \",/*#__PURE__*/_jsx(\"sup\",{children:\"\\u0111\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"ButtonSend\",children:[/*#__PURE__*/_jsx(Button,{className:\"ButtonLeft\",onClick:function onClick(){return history.replace(\"/product\");},children:\"Ti\\u1EBFp t\\u1EE5c mua h\\xE0ng\"}),/*#__PURE__*/_jsx(Button,{className:\"ButtonRight\",children:/*#__PURE__*/_jsx(Link,{to:\"\".concat(path,\"/payment\"),className:\"Link\",children:\"Ti\\u1EBFn h\\xE0nh thanh to\\xE1n\"})})]})]})}),/*#__PURE__*/_jsx(Route,{path:\"\".concat(path,\"/payment\"),children:/*#__PURE__*/_jsx(Payment,{})}),/*#__PURE__*/_jsx(Route,{path:\"\".concat(path,\"/completed\"),children:/*#__PURE__*/_jsxs(\"div\",{className:\"ProductInfo\",children:[/*#__PURE__*/_jsx(CompletedOrder,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"ButtonSend\",children:[/*#__PURE__*/_jsx(Button,{className:\"ButtonLeft\",onClick:function onClick(){return history.push(\"/product\");},children:\"Ti\\u1EBFp t\\u1EE5c mua h\\xE0ng\"}),/*#__PURE__*/_jsx(Button,{className:\"ButtonRight\",onClick:function onClick(){history.push(\"/my-order\");},children:\"\\u0110\\u01A1n h\\xE0ng c\\u1EE7a t\\xF4i\"})]})]})})]})})]})});}export default CartDetail;var dataSourceSteper=[{isActive:true,iconName:\"shopping-cart\",title:\"Giỏ hàng\"},{isActive:false,iconName:\"dollar-sign\",title:\"Thanh toán\"},{isActive:false,iconName:\"check\",title:\"Hoàn tất\"}];var headerTable=[{flex:1,label:\"\",propertyMapping:\"imageUrl\",type:\"IMAGE\"},{flex:5,label:\"TÊN SẢN PHẨM\",propertyMapping:\"productName\",type:\"LABLE\",formatCurrency:false},{flex:2,label:\"GIÁ\",propertyMapping:\"price\",type:\"LABLE\",formatCurrency:true},{flex:2,label:\"GIẢM GIÁ (%)\",propertyMapping:\"discount\",type:\"LABLE\",formatCurrency:false},{flex:2,label:\"SỐ LƯỢNG\",propertyMapping:\"amount\",type:\"INPUTNUMBER\",min:1,max:10,formatCurrency:false},{flex:2,label:\"THÀNH TIỀN\",propertyMapping:\"intoMoney\",type:\"LABLE\",formatCurrency:true},{flex:1,label:\"\",actionType:[\"DELETE\"],type:\"ACTION\"}];","map":{"version":3,"sources":["C:/Users/qnguyen77/Desktop/reactjs/study-react/src/screens/CartDetail/CartDetail.jsx"],"names":["React","useState","useEffect","Steper","Table","ACTION_TYPE_TABLE","NavigateQuickly","Header","Payment","CompletedOrder","Button","BrowserRouter","Router","Switch","Route","useRouteMatch","useHistory","Link","Redirect","useSelector","useDispatch","calculateIntoMoney","calculateTotal","formatCurrency","removeToCart","updateAmountToCart","CartDetail","dataSourceSteper","listSteper","path","history","cartList","carts","cart","status","disPatch","removeItemCart","item","actionName","DELETE","hanldeCalculateValue","newValue","propertyName","length","headerTable","replace","push","isActive","iconName","title","flex","label","propertyMapping","type","min","max","actionType"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Steper from \"../../component/Steper/Steper\";\r\nimport Table from \"../../component/Table/Table\";\r\nimport { ACTION_TYPE_TABLE } from \"../../Constant/Constant\";\r\nimport NavigateQuickly from \"../../component/NavigateQuickly/NavigateQuickly\";\r\nimport Header from \"../../component/Header/Header\";\r\nimport Payment from \"../../component/Payment/Payment\";\r\nimport CompletedOrder from \"../../component/CompletedOrder/CompletedOrder\";\r\n\r\nimport { Button } from \"@material-ui/core\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  useRouteMatch,\r\n  useHistory,\r\n  Link,\r\n  Redirect,\r\n} from \"react-router-dom\";\r\nimport \"./CartDetail.scss\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport {\r\n  calculateIntoMoney,\r\n  calculateTotal,\r\n  formatCurrency,\r\n} from \"../../util/util\";\r\nimport { removeToCart, updateAmountToCart } from \"../../actions/cart\";\r\nCartDetail.propTypes = {};\r\n\r\nfunction CartDetail() {\r\n  const [listSteper] = useState(dataSourceSteper);\r\n  let { path } = useRouteMatch(); //get root path\r\n  const history = useHistory();\r\n  let cartList = useSelector((carts) => carts.cart.cartList);\r\n  let status = useSelector((carts) => carts.cart.status);\r\n  const disPatch = useDispatch();\r\n  cartList = calculateIntoMoney(cartList);\r\n\r\n  \r\n\r\n  const removeItemCart = (item, actionName) => {\r\n    if (actionName === ACTION_TYPE_TABLE.DELETE) {\r\n      disPatch(removeToCart(item));\r\n    }\r\n  };\r\n\r\n  const hanldeCalculateValue = (newValue, item, propertyName) => {\r\n    item[propertyName] = newValue;\r\n    disPatch(updateAmountToCart(item));\r\n  };\r\n\r\n  return (!cartList.length && status === \"dratf\")? (\r\n    <Redirect to=\"/product\" />\r\n  ) : (\r\n    <div className=\"CartDetail\">\r\n      <div className=\"ContainerBody\">\r\n        <div className=\"NavQuickly\">\r\n          <NavigateQuickly />\r\n        </div>\r\n        <div className=\"Header\">\r\n          <Header title=\"Thanh toán\" />\r\n        </div>\r\n        <div className=\"Steper\">\r\n          <Steper listSteper={listSteper} />\r\n        </div>\r\n\r\n        <Router>\r\n          <Switch>\r\n            <Route path=\"/cart-detail\" exact={true}>\r\n              <div className=\"ProductInfo\">\r\n                <Table\r\n                  dataList={cartList}\r\n                  headerList={headerTable}\r\n                  hanldeCalculateValue={hanldeCalculateValue}\r\n                  hanldeAction={removeItemCart}\r\n                />\r\n                <div className=\"Total\">\r\n                  <span className=\"Label\">Tổng thanh toán:</span>\r\n                  <span className=\"Content\">\r\n                    {formatCurrency(calculateTotal(cartList))} <sup>đ</sup>\r\n                  </span>\r\n                </div>\r\n                <div className=\"ButtonSend\">\r\n                  <Button\r\n                    className=\"ButtonLeft\"\r\n                    onClick={() => history.replace(\"/product\")}\r\n                  >\r\n                    Tiếp tục mua hàng\r\n                  </Button>\r\n                  <Button className=\"ButtonRight\">\r\n                    <Link to={`${path}/payment`} className=\"Link\">\r\n                      Tiến hành thanh toán\r\n                    </Link>\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </Route>\r\n            <Route path={`${path}/payment`}>\r\n              <Payment />\r\n            </Route>\r\n            <Route path={`${path}/completed`}>\r\n              <div className=\"ProductInfo\">\r\n                <CompletedOrder />\r\n                <div className=\"ButtonSend\">\r\n                  <Button\r\n                    className=\"ButtonLeft\"\r\n                    onClick={() => history.push(\"/product\")}\r\n                  >\r\n                    Tiếp tục mua hàng\r\n                  </Button>\r\n                  <Button\r\n                    className=\"ButtonRight\"\r\n                    onClick={() => {history.push(\"/my-order\")}}\r\n                  >\r\n                    Đơn hàng của tôi\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </Route>\r\n          </Switch>\r\n        </Router>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CartDetail;\r\n\r\nlet dataSourceSteper = [\r\n  {\r\n    isActive: true,\r\n    iconName: \"shopping-cart\",\r\n    title: \"Giỏ hàng\",\r\n  },\r\n  {\r\n    isActive: false,\r\n    iconName: \"dollar-sign\",\r\n    title: \"Thanh toán\",\r\n  },\r\n  {\r\n    isActive: false,\r\n    iconName: \"check\",\r\n    title: \"Hoàn tất\",\r\n  },\r\n];\r\n\r\nconst headerTable = [\r\n  {\r\n    flex: 1,\r\n    label: \"\",\r\n    propertyMapping: \"imageUrl\",\r\n    type: \"IMAGE\",\r\n  },\r\n  {\r\n    flex: 5,\r\n    label: \"TÊN SẢN PHẨM\",\r\n    propertyMapping: \"productName\",\r\n    type: \"LABLE\",\r\n    formatCurrency: false,\r\n  },\r\n  {\r\n    flex: 2,\r\n    label: \"GIÁ\",\r\n    propertyMapping: \"price\",\r\n    type: \"LABLE\",\r\n    formatCurrency: true,\r\n  },\r\n  {\r\n    flex: 2,\r\n    label: \"GIẢM GIÁ (%)\",\r\n    propertyMapping: \"discount\",\r\n    type: \"LABLE\",\r\n    formatCurrency: false,\r\n  },\r\n  {\r\n    flex: 2,\r\n    label: \"SỐ LƯỢNG\",\r\n    propertyMapping: \"amount\",\r\n    type: \"INPUTNUMBER\",\r\n    min: 1,\r\n    max: 10,\r\n    formatCurrency: false,\r\n  },\r\n  {\r\n    flex: 2,\r\n    label: \"THÀNH TIỀN\",\r\n    propertyMapping: \"intoMoney\",\r\n    type: \"LABLE\",\r\n    formatCurrency: true,\r\n  },\r\n  {\r\n    flex: 1,\r\n    label: \"\",\r\n    actionType: [\"DELETE\"],\r\n    type: \"ACTION\",\r\n  },\r\n];\r\n"]},"metadata":{},"sourceType":"module"}