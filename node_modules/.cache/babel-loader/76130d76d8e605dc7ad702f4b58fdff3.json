{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\qnguyen77\\\\Desktop\\\\reactjs\\\\study-react\\\\src\\\\screens\\\\CartDetail\\\\CartDetail.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport Steper from \"../../component/Steper/Steper\";\nimport Table from \"../../component/Table/Table\";\nimport { ACTION_TYPE_TABLE } from \"../../Constant/Constant\";\nimport NavigateQuickly from \"../../component/NavigateQuickly/NavigateQuickly\";\nimport Header from \"../../component/Header/Header\";\nimport Payment from \"../../component/Payment/Payment\";\nimport CompletedOrder from \"../../component/CompletedOrder/CompletedOrder\";\nimport { Button } from \"@material-ui/core\";\nimport { BrowserRouter as Router, Switch, Route, useRouteMatch, useHistory, Link, Redirect } from \"react-router-dom\";\nimport \"./CartDetail.scss\";\nimport { useSelector } from \"react-redux\";\nimport { useDispatch } from \"react-redux\";\nimport { calculateIntoMoney, calculateTotal, formatCurrency } from \"../../util/util\";\nimport { removeToCart, updateAmountToCart } from \"../../actions/cart\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nCartDetail.propTypes = {};\n\nfunction CartDetail() {\n  _s();\n\n  const [listSteper] = useState(dataSourceSteper);\n  let {\n    path\n  } = useRouteMatch(); //get root path\n\n  const history = useHistory();\n  let cartList = useSelector(carts => carts.cart.cartList);\n  const disPatch = useDispatch();\n  cartList = cartList.length ? cartList : sessionStorage.getItem(\"item_cart\") ? JSON.parse(sessionStorage.getItem(\"item_cart\")).cartList : [];\n  cartList = calculateIntoMoney(cartList);\n\n  const removeItemCart = (item, actionName) => {\n    if (actionName === ACTION_TYPE_TABLE.DELETE) {\n      disPatch(removeToCart(item));\n    }\n  };\n\n  const hanldeCalculateValue = (newValue, item, propertyName) => {\n    item[propertyName] = newValue;\n    disPatch(updateAmountToCart(item));\n  };\n\n  return !cartList.length ? /*#__PURE__*/_jsxDEV(Redirect, {\n    to: \"/product\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"CartDetail\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ContainerBody\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"NavQuickly\",\n        children: /*#__PURE__*/_jsxDEV(NavigateQuickly, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Header\",\n        children: /*#__PURE__*/_jsxDEV(Header, {\n          title: \"Thanh to\\xE1n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Steper\",\n        children: /*#__PURE__*/_jsxDEV(Steper, {\n          listSteper: listSteper\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Router, {\n        children: /*#__PURE__*/_jsxDEV(Switch, {\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            path: \"/cart-detail\",\n            exact: true,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ProductInfo\",\n              children: [/*#__PURE__*/_jsxDEV(Table, {\n                dataList: cartList,\n                headerList: headerTable,\n                hanldeCalculateValue: hanldeCalculateValue,\n                hanldeAction: removeItemCart\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"Total\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"Label\",\n                  children: \"T\\u1ED5ng thanh to\\xE1n:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"Content\",\n                  children: [formatCurrency(calculateTotal(cartList)), \" \", /*#__PURE__*/_jsxDEV(\"sup\", {\n                    children: \"\\u0111\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 83,\n                    columnNumber: 64\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 82,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ButtonSend\",\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  className: \"ButtonLeft\",\n                  onClick: () => history.replace(\"/product\"),\n                  children: \"Ti\\u1EBFp t\\u1EE5c mua h\\xE0ng\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 87,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  className: \"ButtonRight\",\n                  children: /*#__PURE__*/_jsxDEV(Link, {\n                    to: `${path}/payment`,\n                    className: \"Link\",\n                    children: \"Ti\\u1EBFn h\\xE0nh thanh to\\xE1n\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 94,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 93,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: `${path}/payment`,\n            children: /*#__PURE__*/_jsxDEV(Payment, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: `${path}/completed`,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ProductInfo\",\n              children: [/*#__PURE__*/_jsxDEV(CompletedOrder, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ButtonSend\",\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  className: \"ButtonLeft\",\n                  onClick: () => history.push(\"/product\"),\n                  children: \"Ti\\u1EBFp t\\u1EE5c mua h\\xE0ng\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 108,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  className: \"ButtonRight\",\n                  onClick: () => history.push(\"/my-order\"),\n                  children: \"\\u0110\\u01A1n h\\xE0ng c\\u1EE7a t\\xF4i\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 114,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\n\n_s(CartDetail, \"b9WetsDbPf8JhMVnEV3xoRRZIMU=\", false, function () {\n  return [useRouteMatch, useHistory, useSelector, useDispatch];\n});\n\n_c = CartDetail;\nexport default CartDetail;\nlet dataSourceSteper = [{\n  isActive: true,\n  iconName: \"shopping-cart\",\n  title: \"Giỏ hàng\"\n}, {\n  isActive: false,\n  iconName: \"dollar-sign\",\n  title: \"Thanh toán\"\n}, {\n  isActive: false,\n  iconName: \"check\",\n  title: \"Hoàn tất\"\n}];\nconst headerTable = [{\n  flex: 1,\n  label: \"\",\n  propertyMapping: \"imageUrl\",\n  type: \"IMAGE\"\n}, {\n  flex: 5,\n  label: \"TÊN SẢN PHẨM\",\n  propertyMapping: \"productName\",\n  type: \"LABLE\",\n  formatCurrency: false\n}, {\n  flex: 2,\n  label: \"GIÁ\",\n  propertyMapping: \"price\",\n  type: \"LABLE\",\n  formatCurrency: true\n}, {\n  flex: 2,\n  label: \"GIẢM GIÁ (%)\",\n  propertyMapping: \"discount\",\n  type: \"LABLE\",\n  formatCurrency: false\n}, {\n  flex: 2,\n  label: \"SỐ LƯỢNG\",\n  propertyMapping: \"amount\",\n  type: \"INPUTNUMBER\",\n  min: 1,\n  max: 10,\n  formatCurrency: false\n}, {\n  flex: 2,\n  label: \"THÀNH TIỀN\",\n  propertyMapping: \"intoMoney\",\n  type: \"LABLE\",\n  formatCurrency: true\n}, {\n  flex: 1,\n  label: \"\",\n  actionType: [\"DELETE\"],\n  type: \"ACTION\"\n}];\n\nvar _c;\n\n$RefreshReg$(_c, \"CartDetail\");","map":{"version":3,"sources":["C:/Users/qnguyen77/Desktop/reactjs/study-react/src/screens/CartDetail/CartDetail.jsx"],"names":["React","useState","useEffect","Steper","Table","ACTION_TYPE_TABLE","NavigateQuickly","Header","Payment","CompletedOrder","Button","BrowserRouter","Router","Switch","Route","useRouteMatch","useHistory","Link","Redirect","useSelector","useDispatch","calculateIntoMoney","calculateTotal","formatCurrency","removeToCart","updateAmountToCart","CartDetail","propTypes","listSteper","dataSourceSteper","path","history","cartList","carts","cart","disPatch","length","sessionStorage","getItem","JSON","parse","removeItemCart","item","actionName","DELETE","hanldeCalculateValue","newValue","propertyName","headerTable","replace","push","isActive","iconName","title","flex","label","propertyMapping","type","min","max","actionType"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Steper from \"../../component/Steper/Steper\";\r\nimport Table from \"../../component/Table/Table\";\r\nimport { ACTION_TYPE_TABLE } from \"../../Constant/Constant\";\r\nimport NavigateQuickly from \"../../component/NavigateQuickly/NavigateQuickly\";\r\nimport Header from \"../../component/Header/Header\";\r\nimport Payment from \"../../component/Payment/Payment\";\r\nimport CompletedOrder from \"../../component/CompletedOrder/CompletedOrder\";\r\n\r\nimport { Button } from \"@material-ui/core\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  useRouteMatch,\r\n  useHistory,\r\n  Link,\r\n  Redirect,\r\n} from \"react-router-dom\";\r\nimport \"./CartDetail.scss\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport {\r\n  calculateIntoMoney,\r\n  calculateTotal,\r\n  formatCurrency,\r\n} from \"../../util/util\";\r\nimport { removeToCart, updateAmountToCart } from \"../../actions/cart\";\r\nCartDetail.propTypes = {};\r\n\r\nfunction CartDetail() {\r\n  const [listSteper] = useState(dataSourceSteper);\r\n  let { path } = useRouteMatch(); //get root path\r\n  const history = useHistory();\r\n  let cartList = useSelector((carts) => carts.cart.cartList);\r\n  const disPatch = useDispatch();\r\n  cartList = cartList.length\r\n    ? cartList\r\n    : sessionStorage.getItem(\"item_cart\")\r\n    ? JSON.parse(sessionStorage.getItem(\"item_cart\")).cartList\r\n    : [];\r\n  cartList = calculateIntoMoney(cartList);\r\n\r\n  const removeItemCart = (item, actionName) => {\r\n    if (actionName === ACTION_TYPE_TABLE.DELETE) {\r\n      disPatch(removeToCart(item));\r\n    }\r\n  };\r\n\r\n  const hanldeCalculateValue = (newValue, item, propertyName) => {\r\n    item[propertyName] = newValue;\r\n    disPatch(updateAmountToCart(item));\r\n  };\r\n\r\n  return !cartList.length ? (\r\n    <Redirect to=\"/product\" />\r\n  ) : (\r\n    <div className=\"CartDetail\">\r\n      <div className=\"ContainerBody\">\r\n        <div className=\"NavQuickly\">\r\n          <NavigateQuickly />\r\n        </div>\r\n        <div className=\"Header\">\r\n          <Header title=\"Thanh toán\" />\r\n        </div>\r\n        <div className=\"Steper\">\r\n          <Steper listSteper={listSteper} />\r\n        </div>\r\n\r\n        <Router>\r\n          <Switch>\r\n            <Route path=\"/cart-detail\" exact={true}>\r\n              <div className=\"ProductInfo\">\r\n                <Table\r\n                  dataList={cartList}\r\n                  headerList={headerTable}\r\n                  hanldeCalculateValue={hanldeCalculateValue}\r\n                  hanldeAction={removeItemCart}\r\n                />\r\n                <div className=\"Total\">\r\n                  <span className=\"Label\">Tổng thanh toán:</span>\r\n                  <span className=\"Content\">\r\n                    {formatCurrency(calculateTotal(cartList))} <sup>đ</sup>\r\n                  </span>\r\n                </div>\r\n                <div className=\"ButtonSend\">\r\n                  <Button\r\n                    className=\"ButtonLeft\"\r\n                    onClick={() => history.replace(\"/product\")}\r\n                  >\r\n                    Tiếp tục mua hàng\r\n                  </Button>\r\n                  <Button className=\"ButtonRight\">\r\n                    <Link to={`${path}/payment`} className=\"Link\">\r\n                      Tiến hành thanh toán\r\n                    </Link>\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </Route>\r\n            <Route path={`${path}/payment`}>\r\n              <Payment />\r\n            </Route>\r\n            <Route path={`${path}/completed`}>\r\n              <div className=\"ProductInfo\">\r\n                <CompletedOrder />\r\n                <div className=\"ButtonSend\">\r\n                  <Button\r\n                    className=\"ButtonLeft\"\r\n                    onClick={() => history.push(\"/product\")}\r\n                  >\r\n                    Tiếp tục mua hàng\r\n                  </Button>\r\n                  <Button\r\n                    className=\"ButtonRight\"\r\n                    onClick={() => history.push(\"/my-order\")}\r\n                  >\r\n                    Đơn hàng của tôi\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </Route>\r\n          </Switch>\r\n        </Router>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CartDetail;\r\n\r\nlet dataSourceSteper = [\r\n  {\r\n    isActive: true,\r\n    iconName: \"shopping-cart\",\r\n    title: \"Giỏ hàng\",\r\n  },\r\n  {\r\n    isActive: false,\r\n    iconName: \"dollar-sign\",\r\n    title: \"Thanh toán\",\r\n  },\r\n  {\r\n    isActive: false,\r\n    iconName: \"check\",\r\n    title: \"Hoàn tất\",\r\n  },\r\n];\r\n\r\nconst headerTable = [\r\n  {\r\n    flex: 1,\r\n    label: \"\",\r\n    propertyMapping: \"imageUrl\",\r\n    type: \"IMAGE\",\r\n  },\r\n  {\r\n    flex: 5,\r\n    label: \"TÊN SẢN PHẨM\",\r\n    propertyMapping: \"productName\",\r\n    type: \"LABLE\",\r\n    formatCurrency: false,\r\n  },\r\n  {\r\n    flex: 2,\r\n    label: \"GIÁ\",\r\n    propertyMapping: \"price\",\r\n    type: \"LABLE\",\r\n    formatCurrency: true,\r\n  },\r\n  {\r\n    flex: 2,\r\n    label: \"GIẢM GIÁ (%)\",\r\n    propertyMapping: \"discount\",\r\n    type: \"LABLE\",\r\n    formatCurrency: false,\r\n  },\r\n  {\r\n    flex: 2,\r\n    label: \"SỐ LƯỢNG\",\r\n    propertyMapping: \"amount\",\r\n    type: \"INPUTNUMBER\",\r\n    min: 1,\r\n    max: 10,\r\n    formatCurrency: false,\r\n  },\r\n  {\r\n    flex: 2,\r\n    label: \"THÀNH TIỀN\",\r\n    propertyMapping: \"intoMoney\",\r\n    type: \"LABLE\",\r\n    formatCurrency: true,\r\n  },\r\n  {\r\n    flex: 1,\r\n    label: \"\",\r\n    actionType: [\"DELETE\"],\r\n    type: \"ACTION\",\r\n  },\r\n];\r\n"]},"metadata":{},"sourceType":"module"}